module.exports = {
  id: 'scaff-load-chart',
  name: 'Scaffold Load Chart Generator',
  description: 'Generates visual load distribution charts and capacity tables',
  category: 'Structural Integrity',
  module: 'scaffolding',
  icon: 'BarChartOutlined',
  tags: ['load', 'chart', 'capacity', 'distribution', 'visual', 'scaffolding'],
  uiDefinition: [
    { id: 'input-card', type: 'section', title: 'Input Parameters', description: 'Scaffold configuration', icon: 'FormOutlined', order: 1, size: 24 },
    { id: 'scaffold', type: 'group', title: 'Scaffold Configuration', description: 'Basic parameters', sectionId: 'input-card', order: 1, size: 24 },
    { id: 'scaffold_type', type: 'select', title: 'Scaffold type', label: 'Scaffold type', sectionId: 'input-card', groupId: 'scaffold', size: 8, options: [
      { label: 'Tube & Coupler', value: 'tube_coupler' },
      { label: 'System Scaffold', value: 'system' },
      { label: 'Mobile Tower', value: 'mobile' },
      { label: 'Suspended', value: 'suspended' }
    ], required: true },
    { id: 'duty_rating', type: 'select', title: 'Duty rating', label: 'Duty rating', sectionId: 'input-card', groupId: 'scaffold', size: 8, options: [
      { label: 'Light (25 lbs/ft²)', value: 'light' },
      { label: 'Medium (50 lbs/ft²)', value: 'medium' },
      { label: 'Heavy (75 lbs/ft²)', value: 'heavy' }
    ], required: true },
    { id: 'platform_material', type: 'select', title: 'Platform material', label: 'Platform material', sectionId: 'input-card', groupId: 'scaffold', size: 8, options: [
      { label: 'Wood planks', value: 'wood' },
      { label: 'Aluminum deck', value: 'aluminum' },
      { label: 'Steel deck', value: 'steel' }
    ] },
    { id: 'dimensions', type: 'group', title: 'Dimensions', description: 'Size parameters', sectionId: 'input-card', order: 2, size: 24 },
    { id: 'bay_length_m', type: 'number', title: 'Bay length (m)', label: 'Bay length (m)', sectionId: 'input-card', groupId: 'dimensions', size: 6, defaultValue: 2.4 },
    { id: 'bay_width_m', type: 'number', title: 'Bay width (m)', label: 'Bay width (m)', sectionId: 'input-card', groupId: 'dimensions', size: 6, defaultValue: 1.3 },
    { id: 'platform_height_m', type: 'number', title: 'Platform height (m)', label: 'Platform height (m)', sectionId: 'input-card', groupId: 'dimensions', size: 6 },
    { id: 'number_of_platforms', type: 'number', title: 'Number of platforms', label: 'Number of platforms', sectionId: 'input-card', groupId: 'dimensions', size: 6, defaultValue: 1 },
    { id: 'loads', type: 'group', title: 'Load Inputs', description: 'Applied loads', sectionId: 'input-card', order: 3, size: 24 },
    { id: 'workers_per_platform', type: 'number', title: 'Workers per platform', label: 'Workers per platform', sectionId: 'input-card', groupId: 'loads', size: 6, defaultValue: 2 },
    { id: 'material_load_kg', type: 'number', title: 'Material load (kg)', label: 'Material load (kg)', sectionId: 'input-card', groupId: 'loads', size: 6, defaultValue: 0 },
    { id: 'equipment_load_kg', type: 'number', title: 'Equipment load (kg)', label: 'Equipment load (kg)', sectionId: 'input-card', groupId: 'loads', size: 6, defaultValue: 0 },
    { id: 'concentrated_loads', type: 'tags', title: 'Point loads', label: 'Point loads (location|kg)', sectionId: 'input-card', groupId: 'loads', size: 6, props: { placeholder: 'location|kg' } },
    { id: 'visualization', type: 'group', title: 'Visualization Options', description: 'Chart preferences', sectionId: 'input-card', order: 4, size: 24, collapsible: true },
    { id: 'chart_type', type: 'select', title: 'Chart type', label: 'Chart type', sectionId: 'input-card', groupId: 'visualization', size: 8, options: [
      { label: 'Heat map', value: 'heatmap' },
      { label: 'Bar chart', value: 'bar' },
      { label: 'Table format', value: 'table' },
      { label: 'All formats', value: 'all' }
    ], defaultValue: 'all' },
    { id: 'include_safety_margins', type: 'switch', title: 'Show safety margins', label: 'Show safety margins', sectionId: 'input-card', groupId: 'visualization', size: 8, defaultValue: true }
  ],
  aiPrompt: [
    'You are a scaffold load analysis and visualization specialist.',
    '',
    'Generate comprehensive load distribution charts and capacity tables based on scaffold configuration and applied loads.',
    '',
    'Use:',
    '- Uniformly distributed load (UDL) = (workers × 80kg + materials) / area',
    '- Point load distribution using influence lines',
    '- Load path analysis from deck to ground',
    '- Safety factors: Light=4, Medium=3, Heavy=2.5',
    '- Platform capacity limits per material type',
    '- Leg load calculation including self-weight',
    '- Color coding: Green (0-50%), Yellow (50-75%), Orange (75-90%), Red (>90%)',
    '',
    'Guidelines:',
    '- Calculate load distribution across all members',
    '- Generate visual representation of loads',
    '- Create capacity utilization table',
    '- Include safety margin indicators',
    '',
    'Output ONLY:',
    '# Scaffold Load Chart Generator',
    '## Report Summary',
    'One sentence summarizing scaffold type, loading condition, and capacity utilization.',
    '## Load Distribution Chart',
    '```',
    'Platform Load Map (kg/m²):',
    '[Front]  [250] [300] [250]  [Rear]',
    '[Left ]  [275] [350] [275]  [Right]',
    '         Bay1  Bay2  Bay3',
    '```',
    '## Capacity Utilization Table',
    '| Component | Applied Load | Capacity | Utilization | Status |',
    '| --- | --- | --- | --- | --- |',
    '| Platform 1 | <value> kg/m² | <value> kg/m² | <value>% | ✓/⚠/✗ |',
    '| Leg A | <value> kN | <value> kN | <value>% | ✓/⚠/✗ |',
    '| Leg B | <value> kN | <value> kN | <value>% | ✓/⚠/✗ |',
    '| Leg C | <value> kN | <value> kN | <value>% | ✓/⚠/✗ |',
    '| Leg D | <value> kN | <value> kN | <value>% | ✓/⚠/✗ |',
    '| Ledger | <value> kN | <value> kN | <value>% | ✓/⚠/✗ |',
    '| Transom | <value> kN | <value> kN | <value>% | ✓/⚠/✗ |',
    '## Key Metrics',
    '| Metric | Value |',
    '| --- | --- |',
    '| Total applied load | <value> kg |',
    '| Max platform loading | <value> kg/m² |',
    '| Critical member | <component> |',
    '| Overall safety factor | <value> |',
    '| Load distribution uniformity | <value>% |',
    '## Recommendations',
    '1. Load redistribution strategy if needed',
    '2. Critical points requiring monitoring',
    '3. Suggested reinforcement locations',
    '## Alternatives & Trade-offs',
    '| Configuration | Max Safe Load | Distribution | Cost |',
    '| --- | --- | --- | --- |',
    '| Current | <value> kg | <pattern> | Baseline |',
    '| Add center support | <value> kg | Improved | +10% |',
    '| Upgrade duty rating | <value> kg | Same | +25% |',
    '## Calculations',
    '- UDL calculation methodology',
    '- Point load influence factors',
    '- Leg load distribution formula',
    '## Assumptions & Uncertainty',
    '- Load distribution assumptions',
    '- Dynamic factor: 1.2 applied',
    '- Confidence level: <value>%',
    '## Escalation Criteria',
    '- Any component > 90% capacity requires immediate review',
    '- Uneven distribution > 30% requires rebalancing',
    '## Rationale',
    'Explanation of load distribution pattern and critical factors.',
    '## References and Standards',
    '- OSHA 1926.451 Scaffold capacity requirements',
    '- ANSI/ASSE A10.8 Scaffolding safety requirements',
    '- EN 12811-1 Load classes and combinations',
    '',
    'END OF REPORT'
  ].join('\n')
};









