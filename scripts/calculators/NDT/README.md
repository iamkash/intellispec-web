# IntelliNDT UT Calculators

Module: ndt

All calculators follow the flat uiDefinition schema and the vision conventions in scripts/calculators/README.md. Use `vision` tag when images are accepted.

## Status Table (UT)

| Calculator | Detailed description | Parameters to pass | Image or media input | Key outputs | Standard or ref | QA checks and notes | Formula |
| --- | --- | --- | --- | --- | --- | --- | --- |
| A-scan thickness pick and repeatability | Auto-pick the backwall, compute thickness, check stability across multiple captures and passes | material, sound_velocity_ms, probe_freq_mhz, gain_db, gate_start_mm/us, gate_width_mm/us, couplant_type, temperature_c, (manual) signal_amp, noise_amp, repeatability_tau_mm, tof_series_us | A-scan screenshot or raw trace (optional) | t_mm, pick_quality_score, SNR_dB, repeatability_flag, stdev_t_mm | ASME Sec V Art 5 | Verify on calibration block; warn on low SNR or large stdev | t = v·TOF/2000; SNR = 20·log10(A_sig/A_noise); flag if stdev(t) > τ |
| Velocity and temperature correction | Correct sound velocity for hot/cold service before reporting thickness | v_ref_mps, t_ref_c, t_part_c, alpha_per_c, v_assumed_mps, t_meas_mm | none | v_corrected_mps, t_correction_mm, uncertainty_band_mm | ASME Sec V notes, material data | Show uncertainty if α unknown | v_T = v_ref (1 + α (T−T_ref)); t_corr = t_meas v_T / v_assumed |
| Backwall echo loss monitor | Detect loss of backwall echo from roughness or pitting | gain_db, gate_start_us, gate_width_us, loss_threshold_pct, window_averaging, noise_floor_method, coupling_check_bool | A-scan screenshot | backwall_amp_pct, loss_flag, comment | Good UT practice | Suggest surface prep if amplitude unstable | A_% = 100·A_bw/A_ref; loss if A_% < θ |
| Corrosion map stats | Summarize a UT thickness map and flag thin zones vs Tmin and CA | tmin_mm, ca_mm, grid_pitch_mm, map_rows, map_cols, mask_rules | C-scan image or CSV grid | t_min, t_mean, t_std, count_below_tmin, count_below_tmin_plus_ca, hot_spot_polygons, coverage_pct | API 570 practice | Validate missing cells and encoder dropouts | \bar t, s, counts N[t<Tmin], N[t<Tmin+CA] |
| DGS sizing helper | Size reflectors using DGS overlays from A-scan | material, probe_freq_mhz, probe_diameter_mm, wedge_type, distance_mm, echo_level_db, dgs_table_ref | A-scan with DGS overlay | eq_reflector_diam_mm, near_surface_warning | EN ISO DGS | Needs correct gain/distance/overlay | Lookup: (distance, dB) ⇒ d_eq |
| DAC or TCG compliance check | Verify sensitivity setup vs procedure using DAC or TCG | dac_curve_points, tcg_points, ref_reflector_size_mm, ref_dist_mm, target_tolerance_db, material, thickness_mm | Calibration screen photo | pass_fail, deviations_by_point_db, adjust_list | ASME Sec V Art 4 | Ensure ref reflectors seen; flag under/over | Δ(x)=E_meas(x)−DAC(x); pass if |Δ|≤ε |
| Beam path and skip distance | Compute leg path, index offset, and skip distances for angle-beam scans | part_thickness_mm, beam_angle_deg, wedge_index_mm | none | S1_mm, S2_mm, index_offset_mm, leg_path_mm | UT geometry | Plan weld scans and long seams | L=t/cosθ; S1=2t tanθ; S2=4t tanθ; x0≈t tanθ−wedge_index |
| Shear-wave weld coverage map | Estimate weld volume coverage for chosen angles and raster plan | weld_length_mm, thickness_mm, bevel_type, root_face_mm, scan_offsets_mm, raster_step_mm, angle_set_deg, beam_spread_deg | Weld sketch optional | coverage_pct, blind_zones, recommended_angles | Planning guides | Warn if root/cap blind; suggest complementary angles | Coverage ≈ 100·V_scanned/V_weld |
| Lamination screening | Screen plate laminations from B-scan or stacked A-scans | material, plate_thickness_mm, gate_near_us, gate_far_us, threshold_db | B-scan image or A-scan set | lamination_extent_mm, depth_band_mm, severity_class | UT plate practice | Cross-check opposite side; avoid couplant loss false calls | d = v·TOF/2; severity by area% and amplitude bands |
| HIC and SOHIC indicator count | Detect blisters and stepwise cracking patterns | plate_thickness_mm, scan_width_mm, amplitude_threshold_db, min_blob_area_mm2, alignment_tolerance_mm | C-scan image | blister_density_per_m2, ladder_count, risk_class | NACE HIC screening | Keep coupling consistent; screen only | Density D=N_blisters/A; ladder = aligned features count |
| Creep damage screening | Heuristic screen for creep cracking patterns in high-temp service | service_temperature_c, service_hours, probe_angle_deg, gain_db, snr_threshold_db, grain_noise_index_target | A-scan image | risk_flag, follow_up_actions | API 579 Part 10 guide | Treat as screen; suggest replication or PAUT | I = w1·ΔBW + w2·N_anomalies + w3·noise |
| Long-seam crawler coverage check | Confirm long-seam coverage and find missed bands | pipe_od_mm, wall_thickness_mm, scan_width_mm, travel_path_mm, encoder_resolution_mm, wheel_circum_mm, raster_pitch_mm, plan_rows | Coverage map image or log CSV | coverage_pct, missed_rows, rescan_plan | QA coverage | Highlight slippage or lost counts; compute effective pitch | Coverage = 100·N_scanned/N_plan; p=v/f |
| Coupling quality and SNR check | Quantify coupling quality before accepting readings | probe_freq_mhz, gain_db, gate_start_us, gate_width_us, coupling_threshold_pct, snr_threshold_db, noise_window_us | A-scan screenshot | snr_db, coupling_score_pct, accept_or_retake | Good practice | Retake if SNR below threshold or spikes in gate | SNR = 20·log10(A_sig/A_noise); coupling score = 100A_bw/A_ref−k·CV(A_bw) |
| Near-surface dead zone estimator | Estimate near-surface zone unreliable due to wedge delay and ring-down | probe_freq_mhz, ring_down_time_us, wedge_delay_us, velocity_mps | none | dead_zone_depth_mm | UT basics | Use PT or MT within dead zone | z_dz = (t_ringdown + t_wedge)·v/2000 |



