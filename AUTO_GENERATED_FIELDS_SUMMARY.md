# Auto-Generated Fields - Complete Summary

## 🎯 Your Question: "What gets automatically created?"

Based on your data format, here's **EXACTLY** what happens:

## 📊 Your Excel Row

```
Asset_Tag: NAVAJO-02-P-0002
Unit_ID: 02 CRUDE
Equipment_ID: 02-STRIPPER BTMS
Circuit_ID: CS-001
Event Type: External Inspection (SKIP - not asset field)
Actual Due Date: 3/24/2026 (SKIP - not asset field)
Equipment_Type: Pipe
Equipment_Description: 02-STRIPPER BTMS
```

## ⬇️ What Gets Created in Database

```javascript
{
  // ═══════════════════════════════════════════════════════════════
  // ✅ AUTO-GENERATED by System (You DON'T provide these)
  // ═══════════════════════════════════════════════════════════════
  
  id: "doc_1759580606978_jaz27f9c1",
  // ↑ MongoDB document ID
  // ↑ Auto-generated using timestamp + random string
  // ↑ Format: "doc_[timestamp]_[random]"
  
  _id: "doc_1759580606978_0w97hvkk3",
  // ↑ MongoDB internal ID (different from id above)
  // ↑ Auto-generated by MongoDB
  
  type: "asset",
  // ↑ Document type
  // ↑ Always "asset" for asset imports
  
  tenantId: "t_hf_sinclair",
  // ↑ Your tenant/company ID
  // ↑ Auto-set from your login session
  // ↑ Ensures data isolation (you only see your company's data)
  
  created_date: "2025-10-04T12:23:26.978Z",
  // ↑ Creation timestamp
  // ↑ Auto-set to current date/time when created
  
  last_updated: "2025-10-04T12:23:26.978Z",
  // ↑ Last update timestamp
  // ↑ Auto-updated every time record is modified
  
  created_by: "admin@hfsinclair.com",
  // ↑ Who created this record
  // ↑ Auto-set from your login username
  
  updated_by: "admin@hfsinclair.com",
  // ↑ Who last updated this record
  // ↑ Auto-updated to username of person making changes
  
  deleted: false,
  // ↑ Soft delete flag
  // ↑ Auto-set to false (record is active)
  // ↑ Changes to true if record is "deleted" (not actually removed)
  
  
  // ═══════════════════════════════════════════════════════════════
  // ❌ FROM YOUR EXCEL (You provide these - Direct Copy)
  // ═══════════════════════════════════════════════════════════════
  
  asset_tag: "NAVAJO-02-P-0002",
  // ↑ From your "Asset_Tag" column
  // ↑ YOUR naming convention (system doesn't change it)
  // ↑ Must be UNIQUE across all assets
  
  name: "02-STRIPPER BTMS",
  // ↑ From your "Equipment_ID" column
  // ↑ Direct copy - no changes
  
  asset_type: "Pipe",
  // ↑ From your "Equipment_Type" column
  // ↑ Direct copy - no changes
  // ↑ Common values: Pipe, Valve, Tank, Pump, Compressor
  
  description: "02-STRIPPER BTMS",
  // ↑ From your "Equipment_Description" column
  // ↑ Direct copy - no changes
  // ↑ Can also append Circuit_ID if you want: "02-STRIPPER BTMS - CS-001"
  
  status: "active",
  // ↑ Default value if you don't provide Status column
  // ↑ Or from your "Status" column if provided
  // ↑ Common values: active, inactive, maintenance, decommissioned
  
  
  // ═══════════════════════════════════════════════════════════════
  // 🔍 AUTO-LOOKED UP (You provide codes, system finds IDs)
  // ═══════════════════════════════════════════════════════════════
  
  site_id: "site_navajo_abc123",
  // ↑ Looked up from "Facility: NAVAJO"
  // ↑ System searches: "Find site where code = 'NAVAJO'"
  // ↑ Result: Found site with id = "site_navajo_abc123"
  // ↑ Stores this ID (NOT the code "NAVAJO")
  
  asset_group_id: "ag_02_crude_xyz789",
  // ↑ Looked up from "Unit_ID: 02 CRUDE"
  // ↑ System searches: "Find asset_group where code = '02 CRUDE'"
  // ↑ Result: Found group with id = "ag_02_crude_xyz789"
  // ↑ Stores this ID (NOT the code "02 CRUDE")
  
  
  // ═══════════════════════════════════════════════════════════════
  // 📋 OPTIONAL FIELDS (If you provide them)
  // ═══════════════════════════════════════════════════════════════
  
  circuit_id: "CS-001",
  // ↑ From your "Circuit_ID" column (if you map it)
  // ↑ Direct copy - no changes
  
  manufacturer: "",
  // ↑ From your "Manufacturer" column (if provided)
  // ↑ Empty if not in your Excel
  
  model: "",
  // ↑ From your "Model" column (if provided)
  // ↑ Empty if not in your Excel
  
  tags: ["navajo", "02-crude", "pipe"],
  // ↑ Auto-generated from context
  // ↑ Based on facility, unit, and type
  // ↑ Makes searching easier
  
  specifications: {},
  // ↑ Empty object by default
  // ↑ Can be populated later with technical specs
  
  maintenance: {}
  // ↑ Empty object by default
  // ↑ Can be populated later with maintenance schedules
}
```

## 🎨 Visual Transformation

### BEFORE (Your Excel)
```
┌──────────────────────────────────────────────────────────────────────────────────┐
│ Asset_Tag        │ Unit_ID  │ Equipment_ID     │ Equipment_Type │                │
├──────────────────┼──────────┼──────────────────┼────────────────┼────────────────┤
│ NAVAJO-02-P-0002 │ 02 CRUDE │ 02-STRIPPER BTMS │ Pipe           │ ...            │
└──────────────────┴──────────┴──────────────────┴────────────────┴────────────────┘
```

### ⬇️ SYSTEM PROCESSES

```
1. ✅ GENERATES IDs
   - Document ID: "doc_1759580606978_jaz27f9c1"
   - MongoDB ID: "doc_1759580606978_0w97hvkk3"

2. ✅ ADDS Metadata
   - type: "asset"
   - tenantId: "t_hf_sinclair" (from your login)
   - created_date: "2025-10-04T12:23:26.978Z"
   - created_by: "admin@hfsinclair.com" (from your login)

3. ✅ COPIES Your Data
   - asset_tag: "NAVAJO-02-P-0002"
   - name: "02-STRIPPER BTMS"
   - asset_type: "Pipe"

4. 🔍 LOOKS UP Relationships
   - "NAVAJO" → site_id: "site_navajo_abc123"
   - "02 CRUDE" → asset_group_id: "ag_02_crude_xyz789"

5. ✅ ADDS Defaults
   - deleted: false
   - status: "active"
   - tags: ["navajo", "02-crude", "pipe"]
```

### AFTER (Database Document)
```javascript
{
  // 9 Auto-generated fields ✅
  id, _id, type, tenantId, created_date, last_updated, 
  created_by, updated_by, deleted,
  
  // 3 Direct from your Excel ❌
  asset_tag, name, asset_type,
  
  // 2 Auto-looked up 🔍
  site_id, asset_group_id,
  
  // Optional/defaults 📋
  description, status, tags, etc.
}
```

## 🔢 Field Generation Summary

| Category | Count | Fields |
|----------|-------|--------|
| **Auto-Generated** | 9 | id, _id, type, tenantId, created_date, last_updated, created_by, updated_by, deleted |
| **From Your Excel** | 3-7 | asset_tag, name, asset_type, description, manufacturer, model, status |
| **Auto-Looked Up** | 2 | site_id, asset_group_id |
| **Optional/Default** | 3+ | tags, specifications, maintenance, circuit_id |
| **TOTAL** | ~14-20 | Complete asset document |

## 🎯 Naming Convention Details

### YOU Create (in Excel):
```
Asset_Tag: NAVAJO-02-P-0002
           ↓
Your naming convention:
- NAVAJO = Facility
- 02 = Unit number
- P = Equipment type (Pipe)
- 0002 = Sequential number

✅ System uses YOUR format exactly as-is
❌ System does NOT change or generate this
```

### SYSTEM Creates (auto-generated):
```
Document ID: doc_1759580606978_jaz27f9c1
             ↓
System naming convention:
- doc_ = Prefix (always "doc_")
- 1759580606978 = Unix timestamp (milliseconds)
- jaz27f9c1 = Random string (for uniqueness)

✅ System always generates this format
✅ You never see or use this (internal ID)
```

## 📋 What YOU Must Provide

**Minimum Required (3 fields):**
1. ✅ `Asset_Tag` - YOUR unique ID (like "NAVAJO-02-P-0002")
2. ✅ `Equipment_ID` → `name` - Equipment name (like "02-STRIPPER BTMS")
3. ✅ `Equipment_Type` → `asset_type` - Type (like "Pipe")

**For Relationships (choose one method):**
4. Either:
   - 🔍 `Facility` code (like "NAVAJO") - system looks up site_id
   - OR provide `site_id` directly
5. Either:
   - 🔍 `Unit_ID` code (like "02 CRUDE") - system looks up asset_group_id
   - OR provide `asset_group_id` directly

**Optional (recommended):**
6. `Circuit_ID` → description or circuit_id field
7. `Equipment_Description` → description field
8. `Manufacturer` → manufacturer field
9. `Model` → model field
10. `Status` → status field

## ✅ Complete Example

### Your Input (Excel):
```excel
Asset_Tag: NAVAJO-02-P-0002
Facility: NAVAJO
Unit_ID: 02 CRUDE
Equipment_ID: 02-STRIPPER BTMS
Equipment_Type: Pipe
Circuit_ID: CS-001
Equipment_Description: 02-STRIPPER BTMS
Manufacturer: Cameron
Model: API-610
Status: active
```

### System Output (Database):
```javascript
{
  // ✅ 9 Auto-generated fields
  id: "doc_1759580606978_jaz27f9c1",
  _id: "doc_1759580606978_0w97hvkk3",
  type: "asset",
  tenantId: "t_hf_sinclair",
  created_date: "2025-10-04T12:23:26.978Z",
  last_updated: "2025-10-04T12:23:26.978Z",
  created_by: "admin@hfsinclair.com",
  updated_by: "admin@hfsinclair.com",
  deleted: false,
  
  // ❌ 7 From your Excel
  asset_tag: "NAVAJO-02-P-0002",
  name: "02-STRIPPER BTMS",
  asset_type: "Pipe",
  description: "02-STRIPPER BTMS",
  manufacturer: "Cameron",
  model: "API-610",
  status: "active",
  
  // 🔍 2 Auto-looked up
  site_id: "site_navajo_abc123",
  asset_group_id: "ag_02_crude_xyz789",
  
  // 📋 2 Additional
  circuit_id: "CS-001",
  tags: ["navajo", "02-crude", "pipe"]
}
```

## 🎉 Summary

**What YOU control:**
- ✅ Asset_Tag naming convention (YOUR format, YOUR rules)
- ✅ All business data (names, types, descriptions)
- ✅ Relationships (via codes or IDs)

**What SYSTEM generates:**
- ✅ Internal document IDs (you never see these)
- ✅ Metadata (timestamps, who created, etc.)
- ✅ Lookup relationships (code → ID conversion)
- ✅ Defaults (status, tags, etc.)

**Your Asset_Tag remains EXACTLY as you provide it!** ✅

---

**Key Point**: Your naming convention for Asset_Tag stays exactly as you define it. The system only generates internal IDs for database management.

