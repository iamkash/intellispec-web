/**
 * Global Styles with shadcn/ui New York Theme System
 * 
 * Features:
 * - CSS custom properties for design tokens
 * - Light and dark theme support
 * - Professional typography scale
 * - Accessible color system
 * - Smooth animations and transitions
 * - Modern component styling
 */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import authentication styles */
@import './login-shell.css';

/* =============================================================================
   CSS CUSTOM PROPERTIES (Design Tokens)
   ============================================================================= */

@layer base {
  :root {
    /* Default theme colors - will be overridden by ThemeProvider */
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;
    --primary: 240 5.9% 10%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 4.8% 95.9%;
    --secondary-foreground: 240 5.9% 10%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;
    --accent: 240 4.8% 95.9%;
    --accent-foreground: 240 5.9% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --success: 142 76% 36%;
    --success-foreground: 0 0% 98%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 98%;
    --border: 240 5.9% 90%;
    --input: 240 5.9% 90%;
    --ring: 240 5.9% 10%;
    --radius: 0.5rem;
    
    /* Additional design tokens */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  }

  .dark {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 240 5.9% 10%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 240 4.9% 83.9%;
    
    /* Dark theme shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.3), 0 8px 10px -6px rgb(0 0 0 / 0.3);
  }


/* =============================================================================
   BASE STYLES
   ============================================================================= */

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Typography */
  h1, h2, h3, h4, h5, h6 {
    @apply scroll-m-20 tracking-tight;
  }
  
  h1 {
    @apply text-4xl font-bold lg:text-5xl;
  }
  
  h2 {
    @apply text-3xl font-semibold first:mt-0;
  }
  
  h3 {
    @apply text-2xl font-semibold;
  }
  
  h4 {
    @apply text-xl font-semibold;
  }
  
  p {
    @apply leading-7 [&:not(:first-child)]:mt-6;
  }
  
  blockquote {
    @apply mt-6 border-l-2 pl-6 italic;
  }
  
  ul {
    @apply my-6 ml-6 list-disc [&>li]:mt-2;
  }
  
  ol {
    @apply my-6 ml-6 list-decimal [&>li]:mt-2;
  }
  
  code {
    @apply relative rounded bg-muted px-[0.3rem] py-[0.2rem] font-mono text-sm font-semibold;
  }
  
  /* Focus styles */
  :focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }
  
  /* Selection styles */
  ::selection {
    @apply bg-primary/20;
  }
  
  /* Scrollbar styles */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-muted/20;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/20 rounded-md;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/40;
  }
  
  /* Firefox scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted-foreground) / 0.2) transparent;
  }
}

/* =============================================================================
   COMPONENT STYLES
   ============================================================================= */

@layer components {
  /* Card component */
  .card {
    @apply rounded-lg border bg-card text-card-foreground shadow-sm;
  }
  
  .card-header {
    @apply flex flex-col space-y-1.5 p-6;
  }
  
  .card-title {
    @apply text-2xl font-semibold leading-none tracking-tight;
  }
  
  .card-description {
    @apply text-sm text-muted-foreground;
  }
  
  .card-content {
    @apply p-6 pt-0;
  }
  
  .card-footer {
    @apply flex items-center p-6 pt-0;
  }
  
  /* Button component */
  .btn {
    @apply inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors;
    @apply focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring;
    @apply disabled:pointer-events-none disabled:opacity-50;
  }
  
  .btn-default {
    @apply bg-primary text-primary-foreground shadow hover:bg-primary/90;
  }
  
  .btn-destructive {
    @apply bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90;
  }
  
  .btn-outline {
    @apply border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground;
  }
  
  .btn-secondary {
    @apply bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80;
  }
  
  .btn-ghost {
    @apply hover:bg-accent hover:text-accent-foreground;
  }
  
  .btn-link {
    @apply text-primary underline-offset-4 hover:underline;
  }
  
  /* Input component */
  .input {
    @apply flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors;
    @apply file:border-0 file:bg-transparent file:text-sm file:font-medium;
    @apply placeholder:text-muted-foreground;
    @apply focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring;
    @apply disabled:cursor-not-allowed disabled:opacity-50;
  }
  
  /* Label component */
  .label {
    @apply text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70;
  }
  
  /* Badge component */
  .badge {
    @apply inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors;
    @apply focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
  }
  
  .badge-default {
    @apply border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80;
  }
  
  .badge-secondary {
    @apply border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80;
  }
  
  .badge-destructive {
    @apply border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80;
  }
  
  .badge-outline {
    @apply text-foreground;
  }
  
  /* Separator component */
  .separator {
    @apply shrink-0 bg-border;
  }
  
  .separator-horizontal {
    @apply h-[1px] w-full;
  }
  
  .separator-vertical {
    @apply h-full w-[1px];
  }
}

/* =============================================================================
   UTILITY CLASSES
   ============================================================================= */

@layer utilities {
  /* Animation utilities */
  .animate-in {
    animation-duration: 150ms;
    animation-fill-mode: both;
  }
  
  .fade-in-0 {
    animation-name: fadeIn;
  }
  
  .zoom-in-95 {
    animation-name: zoomIn;
  }
  
  .slide-in-from-top-2 {
    animation-name: slideInFromTop;
  }
  
  .slide-in-from-bottom-2 {
    animation-name: slideInFromBottom;
  }
  
  .slide-in-from-left-2 {
    animation-name: slideInFromLeft;
  }
  
  .slide-in-from-right-2 {
    animation-name: slideInFromRight;
  }
  
  /* Shadow utilities */
  .shadow-sm {
    box-shadow: var(--shadow-sm);
  }
  
  .shadow {
    box-shadow: var(--shadow);
  }
  
  .shadow-md {
    box-shadow: var(--shadow-md);
  }
  
  .shadow-lg {
    box-shadow: var(--shadow-lg);
  }
  
  .shadow-xl {
    box-shadow: var(--shadow-xl);
  }
}

/* =============================================================================
   KEYFRAME ANIMATIONS
   ============================================================================= */

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes zoomIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slideInFromTop {
  from {
    transform: translateY(-2px);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes slideInFromBottom {
  from {
    transform: translateY(2px);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes slideInFromLeft {
  from {
    transform: translateX(-2px);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes slideInFromRight {
  from {
    transform: translateX(2px);
  }
  to {
    transform: translateX(0);
  }
}

/* =============================================================================
   LEGACY COMPATIBILITY
   ============================================================================= */

/* Maintain compatibility with existing Ant Design components */
.ant-layout {
  @apply bg-background text-foreground;
}

.ant-layout-header {
  @apply bg-background border-b border-border;
}

.ant-layout-sider {
  @apply bg-card;
}

.ant-layout-content {
  @apply bg-background;
}

.ant-layout-footer {
  @apply bg-background border-t border-border;
}

/* =============================================================================
 * SIDEBAR MENU THEME
 * ============================================================================= */

.ant-menu {
  @apply bg-card text-foreground border-border;
  border-right: 0 !important;
  background: hsl(var(--card)) !important;
  backdrop-filter: blur(10px);
}

.ant-menu-item {
  @apply text-foreground;
  background: transparent !important;
  border-radius: 6px !important;
  margin: 2px 8px !important;
  padding: 0 16px !important;
  height: 40px !important;
  line-height: 40px !important;
  transition: all 0.2s ease !important;
  max-width: calc(100% - 16px) !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

.ant-menu-item:hover {
  background: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
  border-radius: 6px !important;
}

/* Light theme - default behavior */
:not(.dark) .ant-menu-item-selected {
  background: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
  font-weight: 600 !important;
  border-radius: 6px !important;
  box-shadow: 0 1px 3px hsl(var(--shadow) / 0.1) !important;
  border: 1px solid hsl(var(--primary)) !important;
}

/* Dark theme overrides - use primary color with black text for better contrast */
html[data-theme="dark"]:not([data-color-theme="red"]):not([data-color-theme="green"]):not([data-color-theme="emerald"]):not([data-color-theme="teal"]):not([data-color-theme="cyan"]):not([data-color-theme="sky"]):not([data-color-theme="blue"]):not([data-color-theme="purple"]):not([data-color-theme="rose"]) .ant-menu-item-selected,
html.dark .ant-menu-item-selected {
  background: hsl(var(--primary)) !important; /* Use primary color */
  color: hsl(0 0% 0%) !important; /* Force black text for better readability */
  border: 1px solid hsl(var(--primary)) !important;
  font-weight: 600 !important;
  box-shadow: 0 1px 3px hsl(var(--shadow) / 0.1) !important;
  border-radius: 6px !important;
}

html[data-theme="dark"]:not([data-color-theme="red"]):not([data-color-theme="green"]):not([data-color-theme="emerald"]):not([data-color-theme="teal"]):not([data-color-theme="cyan"]):not([data-color-theme="sky"]):not([data-color-theme="blue"]):not([data-color-theme="purple"]):not([data-color-theme="rose"]) .ant-menu-item-selected:hover,
html.dark .ant-menu-item-selected:hover {
  background: hsl(var(--primary) / 0.8) !important; /* Slightly more transparent primary */
  color: hsl(0 0% 0%) !important; /* Force black text */
}

/* For themes with good contrast primary colors, use primary color */
[data-theme="dark"][data-color-theme="red"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="green"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="emerald"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="teal"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="cyan"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="sky"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="blue"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="purple"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="rose"] .ant-menu-item-selected {
  background: hsl(var(--primary)) !important; /* These themes have dark enough primary colors */
  color: hsl(var(--primary-foreground)) !important;
  border: 1px solid hsl(var(--primary)) !important;
}

/* NOTE: orange, yellow, amber are NOT included above because they are too bright in dark mode */

/* NOTE: lime, yellow, amber are NOT included above because they are too bright in dark mode */

[data-theme="dark"][data-color-theme="red"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="green"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="emerald"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="teal"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="cyan"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="sky"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="blue"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="purple"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="rose"] .ant-menu-item-selected:hover {
  background: hsl(var(--primary) / 0.9) !important;
  color: hsl(var(--primary-foreground)) !important;
}

/* NOTE: lime, yellow, amber use default accent color behavior */

/* Light theme hover - default behavior */
:not(.dark) .ant-menu-item-selected:hover {
  background: hsl(var(--primary) / 0.9) !important;
  color: hsl(var(--primary-foreground)) !important;
}

.ant-menu-submenu-title {
  color: hsl(var(--foreground)) !important;
  background: transparent !important;
  border-radius: 6px !important;
  margin: 2px 8px !important;
  padding: 0 16px !important;
  height: 40px !important;
  line-height: 40px !important;
  transition: all 0.2s ease !important;
  max-width: calc(100% - 16px) !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

.ant-menu-submenu-title:hover {
  background: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

.ant-menu-submenu-open > .ant-menu-submenu-title {
  background: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

.ant-menu-sub {
  background: hsl(var(--card)) !important;
}

.ant-menu-sub .ant-menu-item {
  padding-left: 40px !important;
  font-size: 13px !important;
  color: hsl(var(--foreground)) !important;
  background: transparent !important;
}

.ant-menu-sub .ant-menu-item:hover {
  background: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

.ant-menu-sub .ant-menu-item-selected {
  background: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
}

html[data-theme="dark"]:not([data-color-theme="red"]):not([data-color-theme="orange"]):not([data-color-theme="green"]):not([data-color-theme="emerald"]):not([data-color-theme="teal"]):not([data-color-theme="cyan"]):not([data-color-theme="sky"]):not([data-color-theme="blue"]):not([data-color-theme="purple"]):not([data-color-theme="rose"]) .ant-menu-sub .ant-menu-item-selected,
.dark .ant-menu-sub .ant-menu-item-selected {
  background: hsl(var(--primary)) !important; /* Use primary color */
  color: hsl(0 0% 0%) !important; /* Force black text */
}

/* For themes with good contrast primary colors, use primary color in submenus too */
[data-theme="dark"][data-color-theme="red"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="green"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="emerald"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="teal"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="cyan"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="sky"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="blue"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="purple"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="rose"] .ant-menu-sub .ant-menu-item-selected {
  background: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
}

/* NOTE: lime, yellow, amber use default accent color in submenus */

/* Menu Icons */
.ant-menu-item-icon,
.ant-menu-submenu-title .ant-menu-item-icon {
  color: hsl(var(--foreground)) !important;
  transition: color 0.2s ease !important;
  opacity: 0.8;
}

.ant-menu-item-selected .ant-menu-item-icon {
  color: hsl(var(--primary-foreground)) !important;
  opacity: 1;
}

html[data-theme="dark"]:not([data-color-theme="red"]):not([data-color-theme="orange"]):not([data-color-theme="green"]):not([data-color-theme="emerald"]):not([data-color-theme="teal"]):not([data-color-theme="cyan"]):not([data-color-theme="sky"]):not([data-color-theme="blue"]):not([data-color-theme="purple"]):not([data-color-theme="rose"]) .ant-menu-item-selected .ant-menu-item-icon,
.dark .ant-menu-item-selected .ant-menu-item-icon {
  color: hsl(0 0% 0%) !important; /* Force black text for better contrast */
}

/* For themes with good contrast primary colors, use primary foreground */
[data-theme="dark"][data-color-theme="red"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="green"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="emerald"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="teal"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="cyan"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="sky"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="blue"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="purple"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="rose"] .ant-menu-item-selected .ant-menu-item-icon {
  color: hsl(var(--primary-foreground)) !important;
}

/* NOTE: lime, yellow, amber use default accent-foreground color */

.ant-menu-submenu-open > .ant-menu-submenu-title .ant-menu-item-icon {
  color: hsl(var(--accent-foreground)) !important;
}

.ant-menu-item:hover .ant-menu-item-icon,
.ant-menu-submenu-title:hover .ant-menu-item-icon {
  color: hsl(var(--accent-foreground)) !important;
  opacity: 1;
}

/* Submenu Arrows */
.ant-menu-submenu-arrow {
  color: hsl(var(--muted-foreground)) !important;
}

.ant-menu-submenu-open > .ant-menu-submenu-title .ant-menu-submenu-arrow {
  color: hsl(var(--accent-foreground)) !important;
}

/* Collapsed Sidebar Styles */
.ant-layout-sider-collapsed .ant-menu-item,
.ant-layout-sider-collapsed .ant-menu-submenu-title {
  padding: 0 !important;
  text-align: center !important;
  margin: 2px 4px !important;
  width: calc(100% - 8px) !important;
  max-width: calc(100% - 8px) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.ant-layout-sider-collapsed .ant-menu-item-icon,
.ant-layout-sider-collapsed .ant-menu-submenu-title .ant-menu-item-icon {
  font-size: 18px !important;
  margin: 0 !important;
}

.ant-layout-sider-collapsed .ant-menu-submenu-arrow {
  display: none !important;
}

.ant-layout-sider-collapsed .ant-menu-title-content {
  display: none !important;
}

/* =============================================================================
 * MODULE BAR THEME
 * ============================================================================= */

.module-bar {
  background: hsl(var(--card));
  border-bottom: 1px solid hsl(var(--border));
  padding: 6px 12px;
  position: fixed;
  top: 48px;
  left: 240px;
  right: 0;
  z-index: 999;
  box-shadow: 0 2px 4px hsl(var(--shadow) / 0.02);
  transition: all 0.2s ease;
  height: 40px;
  display: flex;
  align-items: center;
  overflow: hidden;
}

.module-bar.collapsed-sidebar {
  left: 64px;
}

.module-bar.mobile-view {
  left: 0;
  top: 44px;
  height: 36px;
}

.module-bar-content {
  display: flex;
  gap: 6px;
  overflow-x: auto;
  overflow-y: hidden;
  padding: 0 4px;
  scrollbar-width: none;
  -ms-overflow-style: none;
  flex: 1;
  align-items: center;
}

.module-bar-content::-webkit-scrollbar {
  display: none;
}

.module-button {
  background: transparent;
  border: 1px solid transparent;
  border-radius: 5px;
  color: hsl(var(--foreground));
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 0 10px;
  transition: all 0.2s ease;
  white-space: nowrap;
  height: 32px;
  font-size: 12px;
  font-weight: 500;
  min-width: fit-content;
  flex-shrink: 0;
  letter-spacing: 0.01em;
}

.module-button:hover {
  background: hsl(var(--accent));
  color: hsl(var(--accent-foreground));
  border-color: hsl(var(--border));
}

.module-button.active {
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  border-color: hsl(var(--primary));
  font-weight: 600;
  box-shadow: 0 2px 4px hsl(var(--shadow) / 0.08);
}

.module-button:focus,
.module-button:active {
  outline: none;
  box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2);
}

/* Dark Theme Overrides */
.dark .ant-menu {
  background: hsl(var(--card)) !important;
  color: hsl(var(--foreground)) !important;
  backdrop-filter: none;
}

.dark .ant-layout-sider {
  background: hsl(var(--card)) !important;
}

.dark .app-layout-sider {
  background: hsl(var(--card)) !important;
  backdrop-filter: none !important;
  border-radius: 0 !important;
}

.dark .ant-menu-item {
  color: hsl(var(--foreground)) !important;
}

.dark .ant-menu-item:hover {
  background: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

/* These are now handled by the [data-theme="dark"] selectors above */

.dark .ant-menu-submenu-title {
  color: hsl(var(--foreground)) !important;
}

.dark .ant-menu-sub .ant-menu-item {
  color: hsl(var(--foreground)) !important;
}

/* Dark theme header */
.dark .app-layout-header {
  background: hsl(var(--background)) !important;
  border-bottom: 1px solid hsl(var(--border)) !important;
  backdrop-filter: blur(20px) saturate(180%);
}

.dark .app-layout-header .ant-btn {
  color: hsl(var(--foreground)) !important;
}

.dark .app-layout-header .app-title {
  color: hsl(var(--foreground)) !important;
}

/* Dark theme module bar */
.dark .module-bar {
  background: hsl(var(--card));
  border-bottom-color: hsl(var(--border));
}

.dark .module-button:hover {
  background: hsl(var(--accent));
  border-color: hsl(var(--border));
}

.dark .module-button:not(.active) {
  color: hsl(var(--foreground));
}

/* Mobile module bar styles */
@media (max-width: 768px) {
  .module-bar {
    padding: 5px 10px;
    left: 0 !important;
    top: 44px;
    height: 36px;
  }
  
  .module-button {
    height: 30px;
    padding: 0 8px;
    font-size: 12px;
  }
  
  .module-bar-content {
    padding-bottom: 4px;
    padding-right: 12px;
  }
}

@media (max-width: 480px) {
  .module-bar {
    padding: 4px 8px;
    height: 34px;
  }
  
  .module-button {
    height: 28px;
    padding: 0 6px;
  }
  
  .module-button .module-label {
    font-size: 11px;
  }
  
  .module-bar-content {
    padding-right: 8px;
  }
}

/* Module bar animation */
.module-bar {
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    transform: translateY(-100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.ant-btn {
  border: 1px solid hsl(var(--border)) !important;
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

.ant-btn:hover {
  background-color: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

.ant-btn-primary {
  background-color: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
  border-color: hsl(var(--primary)) !important;
}

.ant-btn-primary:hover {
  background-color: hsl(var(--primary) / 0.9) !important;
  color: hsl(var(--primary-foreground)) !important;
  border-color: hsl(var(--primary) / 0.9) !important;
}

/* Fix Ant Design Upload component blue colors */
.ant-upload-dragger {
  border-color: hsl(var(--border)) !important;
  background-color: hsl(var(--muted) / 0.1) !important;
}

.ant-upload-dragger:hover {
  border-color: hsl(var(--primary)) !important;
  background-color: hsl(var(--muted) / 0.2) !important;
}

/* More specific selectors to override Ant Design defaults */
.ant-upload.ant-upload-drag:hover {
  border-color: hsl(var(--primary)) !important;
}

.ant-upload.ant-upload-drag.ant-upload-drag-hover {
  border-color: hsl(var(--primary)) !important;
}

.ant-upload-dragger.ant-upload-drag-hover {
  border-color: hsl(var(--primary)) !important;
  background-color: hsl(var(--muted) / 0.2) !important;
}

/* Focus states */
.ant-upload-dragger:focus {
  border-color: hsl(var(--ring)) !important;
  box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2) !important;
}

.ant-upload.ant-upload-drag:focus {
  border-color: hsl(var(--ring)) !important;
  box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2) !important;
}

/* Additional specific selectors for drag over states */
.ant-upload-drag.ant-upload-drag-hover .ant-upload {
  border-color: hsl(var(--primary)) !important;
}

.ant-upload-drag:hover .ant-upload-btn {
  color: hsl(var(--primary)) !important;
}

.ant-upload-list .ant-upload-list-item-info .ant-upload-list-item-name {
  color: hsl(var(--foreground)) !important;
}

/* Ensure all Ant Design upload states use theme colors */
.ant-upload.ant-upload-drag .ant-upload-drag-container {
  border-color: inherit !important;
}

.ant-upload.ant-upload-drag .ant-upload-drag-container:hover {
  border-color: hsl(var(--primary)) !important;
}

.ant-upload-drag-icon {
  color: hsl(var(--primary)) !important;
}

.ant-upload-text {
  color: hsl(var(--foreground)) !important;
}

.ant-upload-hint {
  color: hsl(var(--muted-foreground)) !important;
}

/* Fix Ant Design Steps component blue colors */
.ant-steps-item-process .ant-steps-item-icon {
  background-color: hsl(var(--primary)) !important;
  border-color: hsl(var(--primary)) !important;
}

.ant-steps-item-process .ant-steps-item-icon .ant-steps-icon {
  color: hsl(var(--primary-foreground)) !important;
}

.ant-steps-item-active .ant-steps-item-icon {
  background-color: hsl(var(--primary)) !important;
  border-color: hsl(var(--primary)) !important;
}

.ant-steps-item-active .ant-steps-item-icon .ant-steps-icon {
  color: hsl(var(--primary-foreground)) !important;
}

.ant-steps-item-finish .ant-steps-item-icon {
  background-color: hsl(var(--success)) !important;
  border-color: hsl(var(--success)) !important;
}

.ant-steps-item-finish .ant-steps-item-icon .ant-steps-icon {
  color: hsl(var(--success-foreground)) !important;
}

.ant-steps-item-wait .ant-steps-item-icon {
  background-color: hsl(var(--muted)) !important;
  border-color: hsl(var(--border)) !important;
}

.ant-steps-item-wait .ant-steps-item-icon .ant-steps-icon {
  color: hsl(var(--muted-foreground)) !important;
}

.ant-steps-item-title {
  color: hsl(var(--foreground)) !important;
}

.ant-steps-item-description {
  color: hsl(var(--muted-foreground)) !important;
}

.ant-steps-item-tail::after {
  background-color: hsl(var(--border)) !important;
}

.ant-steps-item-finish .ant-steps-item-tail::after {
  background-color: hsl(var(--success)) !important;
}

/* Fix Ant Design Card component colors */
.ant-card-head-title {
  color: hsl(var(--foreground)) !important;
}

.ant-card-head {
  background-color: hsl(var(--muted) / 0.1) !important;
  border-bottom: 1px solid hsl(var(--border)) !important;
}

.ant-card {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
}

.ant-card-body {
  color: hsl(var(--foreground)) !important;
}

/* Ensure all card elements use theme colors */
.ant-card-head .ant-card-head-title,
.ant-card-head .ant-card-extra,
.ant-card-head .ant-card-head-tabs .ant-tabs-tab {
  color: hsl(var(--foreground)) !important;
}

.ant-card-head .ant-card-head-tabs .ant-tabs-tab:hover {
  color: hsl(var(--primary)) !important;
}

.ant-card-head .ant-card-head-tabs .ant-tabs-tab.ant-tabs-tab-active {
  color: hsl(var(--primary)) !important;
}

/* Fix Ant Design Form components colors */
.ant-input,
.ant-input-affix-wrapper {
  background-color: hsl(var(--background)) !important;
  border-color: hsl(var(--border)) !important;
  color: hsl(var(--foreground)) !important;
}

.ant-input:focus,
.ant-input-affix-wrapper:focus,
.ant-input-focused,
.ant-input-affix-wrapper-focused {
  border-color: hsl(var(--ring)) !important;
  box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2) !important;
}

.ant-input::placeholder,
.ant-input-affix-wrapper .ant-input::placeholder {
  color: hsl(var(--muted-foreground)) !important;
}

.ant-select {
  background-color: hsl(var(--background)) !important;
}

.ant-select .ant-select-selector {
  background-color: hsl(var(--background)) !important;
  border-color: hsl(var(--border)) !important;
  color: hsl(var(--foreground)) !important;
}

.ant-select-focused .ant-select-selector,
.ant-select .ant-select-selector:focus {
  border-color: hsl(var(--ring)) !important;
  box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2) !important;
}

.ant-select-dropdown {
  background-color: hsl(var(--background)) !important;
  border-color: hsl(var(--border)) !important;
}

.ant-select-item {
  color: hsl(var(--foreground)) !important;
}

.ant-select-item:hover {
  background-color: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

.ant-select-item-option-selected {
  background-color: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
}

.ant-textarea {
  background-color: hsl(var(--background)) !important;
  border-color: hsl(var(--border)) !important;
  color: hsl(var(--foreground)) !important;
}

.ant-textarea:focus,
.ant-textarea-focused {
  border-color: hsl(var(--ring)) !important;
  box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2) !important;
}

.ant-textarea::placeholder {
  color: hsl(var(--muted-foreground)) !important;
}

/* Fix Ant Design Form components for DocumentFormGadget */
.ant-form-item-label > label {
  color: hsl(var(--foreground)) !important;
  font-weight: 500 !important;
}

.ant-form-item-label > label.ant-form-item-required::before {
  color: hsl(var(--destructive)) !important;
}

.ant-form-item-label > label.ant-form-item-required::after {
  color: hsl(var(--destructive)) !important;
}

.ant-form-item-explain {
  color: hsl(var(--destructive)) !important;
}

.ant-form-item-explain-error {
  color: hsl(var(--destructive)) !important;
}

.ant-form-item-explain-warning {
  color: hsl(var(--warning)) !important;
}

.ant-form-item-explain-success {
  color: hsl(var(--success)) !important;
}

/* Fix Form.Item spacing and padding */
.ant-form-item {
  margin-bottom: var(--spacing-4) !important;
  padding: var(--spacing-2) 0 !important;
}

.ant-form-item-label {
  padding-bottom: var(--spacing-1) !important;
}

.ant-form-item-control {
  padding-top: var(--spacing-1) !important;
}

/* Fix Form container styling */
.ant-form {
  padding: var(--spacing-4) !important;
  background-color: hsl(var(--background)) !important;
  border: none !important;
  border-radius: var(--radius) !important;
  box-shadow: none !important;
}

/* Fix DocumentFormGadget specific styling */
.document-form-gadget {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

.document-form-gadget .ant-form {
  background-color: hsl(var(--background)) !important;
}

.document-form-gadget .ant-card {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  color: hsl(var(--foreground)) !important;
}

.document-form-gadget .ant-card-head {
  background-color: hsl(var(--muted) / 0.1) !important;
  border-bottom: 1px solid hsl(var(--border)) !important;
}

.document-form-gadget .ant-card-body {
  background-color: hsl(var(--card)) !important;
  color: hsl(var(--foreground)) !important;
}

/* Fix Form sections and groups */
.ant-form-item-group {
  margin-bottom: var(--spacing-6) !important;
  padding: var(--spacing-4) !important;
  background-color: hsl(var(--muted) / 0.1) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
}

/* Fix individual form items */
.ant-form-item {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  padding: var(--spacing-3) !important;
  border-radius: var(--radius) !important;
  margin-bottom: var(--spacing-4) !important;
}

.ant-form-item:hover {
  background-color: transparent !important;
  border: none !important;
}

/* Fix form item labels */
.ant-form-item-label {
  background-color: transparent !important;
  color: hsl(var(--foreground)) !important;
}

/* Fix form item controls */
.ant-form-item-control {
  background-color: transparent !important;
  color: hsl(var(--foreground)) !important;
}

/* Fix form item control input content */
.ant-form-item-control-input-content {
  background-color: transparent !important;
  color: hsl(var(--foreground)) !important;
}

.ant-form-item-group-title {
  color: hsl(var(--foreground)) !important;
  font-weight: 600 !important;
  font-size: 16px !important;
  margin-bottom: var(--spacing-3) !important;
  padding-bottom: var(--spacing-2) !important;
  border-bottom: 1px solid hsl(var(--border)) !important;
}

/* Fix Form tabs */
.ant-tabs-tab {
  color: hsl(var(--foreground)) !important;
}

.ant-tabs-tab:hover {
  color: hsl(var(--primary)) !important;
}

.ant-tabs-tab.ant-tabs-tab-active {
  color: hsl(var(--primary)) !important;
}

.ant-tabs-tab-btn {
  color: inherit !important;
}

.ant-tabs-content-holder {
  padding: var(--spacing-4) 0 !important;
}

/* Fix Form sections */
.ant-collapse {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
}

.ant-collapse-item {
  border-bottom: 1px solid hsl(var(--border)) !important;
}

.ant-collapse-header {
  color: hsl(var(--foreground)) !important;
  background-color: hsl(var(--muted) / 0.1) !important;
  padding: var(--spacing-3) var(--spacing-4) !important;
}

.ant-collapse-content {
  background-color: hsl(var(--background)) !important;
  border-top: 1px solid hsl(var(--border)) !important;
}

.ant-collapse-content-box {
  padding: var(--spacing-4) !important;
}

/* Fix form sections and containers */
.form-section,
.form-group,
.form-container {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  padding: var(--spacing-4) !important;
  margin-bottom: var(--spacing-6) !important;
  color: hsl(var(--foreground)) !important;
}

.form-section-title,
.form-group-title,
.form-container-title {
  color: hsl(var(--foreground)) !important;
  font-weight: 600 !important;
  font-size: 16px !important;
  margin-bottom: var(--spacing-3) !important;
  padding-bottom: var(--spacing-2) !important;
  border-bottom: 1px solid hsl(var(--border)) !important;
}

/* Fix form field containers */
.form-field-container,
.field-container {
  background-color: hsl(var(--background)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  padding: var(--spacing-3) !important;
  margin-bottom: var(--spacing-3) !important;
  color: hsl(var(--foreground)) !important;
}

.form-field-container:hover,
.field-container:hover {
  background-color: hsl(var(--accent) / 0.05) !important;
  border-color: hsl(var(--accent)) !important;
}

/* Fix form rows and columns */
.ant-row {
  background-color: transparent !important;
  color: hsl(var(--foreground)) !important;
}

.ant-col {
  background-color: transparent !important;
  color: hsl(var(--foreground)) !important;
}

/* Fix form wizard steps */
.ant-steps {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  padding: var(--spacing-4) !important;
  margin-bottom: var(--spacing-6) !important;
}

/* Fix form progress bars */
.ant-progress {
  background-color: transparent !important;
}

.ant-progress-bg {
  background-color: hsl(var(--primary)) !important;
}

.ant-progress-text {
  color: hsl(var(--foreground)) !important;
}

/* Fix FormRenderer specific classes */
.form-group-card {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  color: hsl(var(--foreground)) !important;
}

.form-section-content {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

.form-underline {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

.form-sidebar {
  background-color: hsl(var(--muted) / 0.1) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  color: hsl(var(--foreground)) !important;
}

.section-glass {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  color: hsl(var(--foreground)) !important;
  backdrop-filter: blur(10px) !important;
}

.liquid-glass {
  background-color: hsl(var(--card) / 0.8) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  color: hsl(var(--foreground)) !important;
  backdrop-filter: blur(10px) !important;
}

/* Fix Form buttons and actions */
.ant-form-item-control-input-content .ant-btn {
  margin-right: var(--spacing-2) !important;
}

.ant-form-item-control-input-content .ant-btn:last-child {
  margin-right: 0 !important;
}

/* Fix Form validation messages */
.ant-form-item-explain,
.ant-form-item-extra {
  margin-top: var(--spacing-1) !important;
  font-size: 12px !important;
}

/* Fix Form field groups */
.ant-form-item-group {
  margin-bottom: var(--spacing-6) !important;
}

.ant-form-item-group .ant-form-item {
  margin-bottom: var(--spacing-3) !important;
}

/* Fix Form layout */
.ant-form-horizontal .ant-form-item-label {
  text-align: left !important;
  padding-right: var(--spacing-2) !important;
}

.ant-form-vertical .ant-form-item-label {
  padding-bottom: var(--spacing-1) !important;
}

/* Fix Form inline layout */
.ant-form-inline .ant-form-item {
  margin-right: var(--spacing-4) !important;
  margin-bottom: var(--spacing-3) !important;
}

/* Fix Form compact layout */
.ant-form-compact .ant-form-item {
  margin-bottom: var(--spacing-2) !important;
}

/* Fix Form field descriptions */
.ant-form-item-extra {
  color: hsl(var(--muted-foreground)) !important;
  font-size: 12px !important;
  line-height: 1.4 !important;
}

/* Fix Form field help text */
.ant-form-item-help {
  color: hsl(var(--muted-foreground)) !important;
  font-size: 12px !important;
  margin-top: var(--spacing-1) !important;
}

/* Fix Form field tooltips */
.ant-form-item-tooltip {
  color: hsl(var(--muted-foreground)) !important;
}

/* Fix Form field status indicators */
.ant-form-item-has-success .ant-form-item-split {
  color: hsl(var(--success)) !important;
}

.ant-form-item-has-warning .ant-form-item-split {
  color: hsl(var(--warning)) !important;
}

.ant-form-item-has-error .ant-form-item-split {
  color: hsl(var(--destructive)) !important;
}

/* Fix Form field validation states */
.ant-form-item-has-success .ant-input,
.ant-form-item-has-success .ant-input-affix-wrapper {
  border-color: hsl(var(--success)) !important;
}

.ant-form-item-has-warning .ant-input,
.ant-form-item-has-warning .ant-input-affix-wrapper {
  border-color: hsl(var(--warning)) !important;
}

.ant-form-item-has-error .ant-input,
.ant-form-item-has-error .ant-input-affix-wrapper {
  border-color: hsl(var(--destructive)) !important;
}

/* Fix Ant Design Radio component colors */
.ant-radio {
  color: hsl(var(--foreground)) !important;
}

.ant-radio .ant-radio-inner {
  border-color: hsl(var(--border)) !important;
  background-color: hsl(var(--background)) !important;
}

.ant-radio:hover .ant-radio-inner {
  border-color: hsl(var(--primary)) !important;
}

.ant-radio-checked .ant-radio-inner {
  border-color: hsl(var(--primary)) !important;
  background-color: hsl(var(--primary)) !important;
}

.ant-radio-checked .ant-radio-inner::after {
  background-color: hsl(var(--primary-foreground)) !important;
}

.ant-radio-disabled .ant-radio-inner {
  border-color: hsl(var(--border)) !important;
  background-color: hsl(var(--muted)) !important;
}

.ant-radio-disabled + span {
  color: hsl(var(--muted-foreground)) !important;
}

/* Fix Ant Design Radio Button colors */
.ant-radio-button-wrapper {
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border)) !important;
  background-color: hsl(var(--background)) !important;
}

.ant-radio-button-wrapper:hover {
  color: hsl(var(--primary)) !important;
  border-color: hsl(var(--primary)) !important;
}

.ant-radio-button-wrapper-checked {
  color: hsl(var(--primary-foreground)) !important;
  border-color: hsl(var(--primary)) !important;
  background-color: hsl(var(--primary)) !important;
}

.ant-radio-button-wrapper-checked:hover {
  color: hsl(var(--primary-foreground)) !important;
  border-color: hsl(var(--primary) / 0.8) !important;
  background-color: hsl(var(--primary) / 0.8) !important;
}

/* Fix Ant Design Segmented component colors */
.ant-segmented {
  background-color: hsl(var(--muted)) !important;
  border-color: hsl(var(--border)) !important;
}

.ant-segmented-item {
  color: hsl(var(--foreground)) !important;
  background-color: transparent !important;
  border-color: transparent !important;
}

.ant-segmented-item:hover {
  color: hsl(var(--foreground)) !important;
  background-color: hsl(var(--accent)) !important;
}

.ant-segmented-item-selected {
  color: hsl(var(--primary-foreground)) !important;
  background-color: hsl(var(--primary)) !important;
  border-color: hsl(var(--primary)) !important;
}

.ant-segmented-item-disabled {
  color: hsl(var(--muted-foreground)) !important;
  background-color: hsl(var(--muted)) !important;
}

.ant-segmented-thumb {
  background-color: hsl(var(--primary)) !important;
  border-color: hsl(var(--primary)) !important;
}

/* Fix Ant Design Steps component spacing and padding */
.ant-steps {
  padding: var(--spacing-4) !important;
  margin: var(--spacing-4) 0 !important;
}

.ant-steps .ant-steps-item {
  padding: var(--spacing-2) !important;
  margin: 0 var(--spacing-2) !important;
  min-width: 120px !important;
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  text-align: center !important;
}

.ant-steps .ant-steps-item-icon {
  margin-right: var(--spacing-2) !important;
  padding: var(--spacing-1) !important;
}

.ant-steps .ant-steps-item-content {
  padding: var(--spacing-1) 0 !important;
}

.ant-steps .ant-steps-item-title {
  padding: var(--spacing-1) 0 !important;
  margin: 0 !important;
}

.ant-steps .ant-steps-item-description {
  padding: var(--spacing-1) 0 !important;
  margin: 0 !important;
}

.ant-steps .ant-steps-item-tail {
  padding: var(--spacing-2) 0 !important;
}

.ant-steps .ant-steps-item-tail::after {
  padding: var(--spacing-1) 0 !important;
}

/* Ensure Steps container uses theme spacing */
.ant-steps-container {
  padding: var(--spacing-4) !important;
  margin: var(--spacing-4) 0 !important;
}

/* Fix Steps navigation spacing */
.ant-steps-navigation {
  padding: var(--spacing-4) !important;
}

.ant-steps-navigation .ant-steps-item {
  padding: var(--spacing-2) var(--spacing-4) !important;
}

/* Enhanced Steps styling for better theme integration */
.ant-steps .ant-steps-item-icon {
  background-color: transparent !important;
  border: none !important;
  color: hsl(var(--muted-foreground)) !important;
  font-size: 20px !important;
  width: auto !important;
  height: auto !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  margin-bottom: var(--spacing-2) !important;
}

.ant-steps .ant-steps-item-process .ant-steps-item-icon {
  background-color: transparent !important;
  border: none !important;
  color: hsl(var(--primary)) !important;
}

.ant-steps .ant-steps-item-process .ant-steps-item-icon .anticon {
  color: hsl(var(--primary)) !important;
}

.ant-steps .ant-steps-item-finish .ant-steps-item-icon {
  background-color: transparent !important;
  border: none !important;
  color: hsl(var(--success)) !important;
}

.ant-steps .ant-steps-item-finish .ant-steps-item-icon .anticon {
  color: hsl(var(--success)) !important;
}

.ant-steps .ant-steps-item-icon .anticon {
  color: hsl(var(--muted-foreground)) !important;
}

.ant-steps .ant-steps-item-title {
  color: hsl(var(--foreground)) !important;
  font-weight: 500 !important;
  white-space: normal !important;
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  max-width: 200px !important;
  line-height: 1.4 !important;
  text-align: center !important;
  margin: 0 auto !important;
}

.ant-steps .ant-steps-item-process .ant-steps-item-title {
  color: hsl(var(--primary)) !important;
  font-weight: 600 !important;
}

.ant-steps .ant-steps-item-finish .ant-steps-item-title {
  color: hsl(var(--success)) !important;
  font-weight: 500 !important;
}

.ant-steps .ant-steps-item-description {
  color: hsl(var(--muted-foreground)) !important;
  text-align: center !important;
  margin: 0 auto !important;
}

.ant-steps .ant-steps-item-process .ant-steps-item-description {
  color: hsl(var(--primary)) !important;
}

.ant-steps .ant-steps-item-finish .ant-steps-item-description {
  color: hsl(var(--success)) !important;
}

.ant-steps .ant-steps-item-tail::after {
  background-color: hsl(var(--border)) !important;
}

.ant-steps .ant-steps-item-finish .ant-steps-item-tail::after {
  background-color: hsl(var(--success)) !important;
}

/* Ensure Steps container has proper theme styling */
.ant-steps {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  box-shadow: 0 2px 8px hsl(var(--shadow) / 0.1) !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  padding: var(--spacing-4) var(--spacing-6) !important;
}

/* FINAL OVERRIDE - Completely eliminate any remaining blue colors */
* {
  --ant-primary-color: hsl(var(--primary)) !important;
  --ant-primary-color-hover: hsl(var(--primary) / 0.8) !important;
  --ant-primary-color-active: hsl(var(--primary) / 0.9) !important;
  --ant-primary-1: hsl(var(--primary) / 0.1) !important;
  --ant-primary-2: hsl(var(--primary) / 0.2) !important;
  --ant-primary-3: hsl(var(--primary) / 0.3) !important;
  --ant-primary-4: hsl(var(--primary) / 0.4) !important;
  --ant-primary-5: hsl(var(--primary) / 0.5) !important;
  --ant-primary-6: hsl(var(--primary)) !important;
  --ant-primary-7: hsl(var(--primary) / 0.9) !important;
}

/* Force override any remaining blue hex colors */
[style*="#1890ff"] {
  border-color: hsl(var(--primary)) !important;
  background-color: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
}

[style*="#40a9ff"] {
  border-color: hsl(var(--ring)) !important;
  background-color: hsl(var(--ring)) !important;
  color: hsl(var(--primary-foreground)) !important;
}

/* Ensure upload drag area uses theme colors in all states */
.ant-upload-drag,
.ant-upload-dragger,
.ant-upload.ant-upload-drag {
  border: 2px dashed hsl(var(--border)) !important;
  background: hsl(var(--muted) / 0.1) !important;
}

.ant-upload-drag:hover,
.ant-upload-dragger:hover,
.ant-upload.ant-upload-drag:hover {
  border-color: hsl(var(--primary)) !important;
  background: hsl(var(--muted) / 0.2) !important;
}

.ant-input {
  @apply border-input bg-background text-foreground;
}

.ant-card {
  @apply bg-card text-card-foreground border-border;
}

/* =============================================================================
   RESPONSIVE DESIGN
   ============================================================================= */

/* Mobile-first responsive design */
@media (max-width: 768px) {
  .container {
    @apply px-4;
  }
  
  h1 {
    @apply text-3xl;
  }
  
  h2 {
    @apply text-2xl;
  }
  
  h3 {
    @apply text-xl;
  }
}

/* =============================================================================
   ACCESSIBILITY
   ============================================================================= */

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  :root {
    --border: 240 100% 0%;
    --ring: 240 100% 0%;
  }
  
  .dark {
    --border: 0 0% 100%;
    --ring: 0 0% 100%;
  }
}

/* =============================================================================
   PRINT STYLES
   ============================================================================= */

@media print {
  * {
    background: transparent !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  body {
    font-size: 12pt;
    line-height: 1.5;
  }
  
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
}

/* =============================================================================
   FINAL ENFORCEMENT: Underline fields + calendar + checkbox (Ant tokens only)
   ============================================================================= */
/* 1) Underline for all form controls inside form-underline */
.form-underline .ant-form-item-control .ant-input,
.form-underline .ant-form-item-control .ant-input-affix-wrapper,
.form-underline .ant-form-item-control .ant-select-selector,
.form-underline .ant-form-item-control .ant-input-number,
.form-underline .ant-form-item-control .ant-picker {
  background: transparent !important;
  border-top: 0 !important;
  border-left: 0 !important;
  border-right: 0 !important;
  border-bottom: 2px solid hsl(var(--border)) !important;
  border-radius: 0 !important;
  box-shadow: none !important;
}

.form-underline .ant-form-item-control .ant-input:focus,
.form-underline .ant-form-item-control .ant-input-affix-wrapper-focused,
.form-underline .ant-form-item-control .ant-picker-focused,
.form-underline .ant-form-item-control .ant-input-number-focused {
  border-bottom-color: hsl(var(--primary)) !important;
  border-bottom-width: 2px !important;
}

.form-underline .ant-form-item-control .ant-select-focused .ant-select-selector,
.form-underline .ant-form-item-control .ant-select-open .ant-select-selector {
  border-bottom-color: hsl(var(--primary)) !important;
  border-bottom-width: 2px !important;
}

/* 2) Calendar popup background not transparent */
.ant-picker-dropdown .ant-picker-panel,
.ant-picker-dropdown .ant-picker-panel-container {
  background: hsl(var(--card)) !important;
  color: hsl(var(--foreground)) !important;
  border: 1px solid hsl(var(--border)) !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}
.ant-picker-dropdown { background: transparent !important; width: auto !important; padding: 0 !important; }
.ant-picker-dropdown .ant-picker-range-wrapper { display: inline-block !important; }
.ant-picker-dropdown .ant-picker-panel-container { display: inline-block !important; width: auto !important; }
.ant-picker-dropdown .ant-picker-panel { display: inline-block !important; width: auto !important; }
.ant-picker-dropdown { padding: 0 !important; }
.ant-picker-dropdown .ant-picker-panel-container { padding: 0 !important; border-radius: var(--radius) !important; }
.ant-picker-dropdown .ant-picker-panel { width: max-content !important; }
.ant-picker-panel { background: hsl(var(--card)) !important; }
.ant-picker-footer { background: hsl(var(--card)) !important; border-top: 1px solid hsl(var(--border)) !important; }
.ant-picker-header { border-bottom: 1px solid hsl(var(--border)) !important; }
.ant-picker-header > button, .ant-picker-super-prev-icon, .ant-picker-super-next-icon, .ant-picker-prev-icon, .ant-picker-next-icon { color: hsl(var(--foreground)) !important; }
.ant-picker-header,
.ant-picker-content,
.ant-picker-time-panel {
  color: hsl(var(--foreground)) !important;
  background: hsl(var(--card)) !important;
}
.ant-picker-cell-in-view.ant-picker-cell-selected .ant-picker-cell-inner { background: hsl(var(--primary)) !important; color: hsl(var(--primary-foreground)) !important; }
.ant-picker-ok button, .ant-picker-ranges .ant-btn, .ant-picker-today-btn {
  background: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
  border-color: hsl(var(--primary)) !important;
}
.ant-picker-ranges .ant-btn:hover, .ant-picker-ok button:hover, .ant-picker-today-btn:hover { filter: brightness(0.95); }

/* 3) Checkbox tokens for label color */
.ant-checkbox-wrapper,
.ant-checkbox + span {
  color: var(--ant-color-text) !important;
}

/* Override Ant dev-only wrapper default black color on checkbox root */
.ant-checkbox {
  color: var(--ant-color-text) !important;
}
.ant-checkbox:hover .ant-checkbox-inner {
  border-color: hsl(var(--primary)) !important;
}

/* Checkbox theme enforcement using Ant tokens only */
.ant-checkbox .ant-checkbox-inner {
  background: hsl(var(--background)) !important;
  border-color: hsl(var(--border)) !important;
}

.ant-checkbox-input:focus + .ant-checkbox-inner {
  border-color: hsl(var(--primary)) !important;
  box-shadow: none !important;
}

.ant-checkbox-checked .ant-checkbox-inner {
  background: hsl(var(--primary)) !important;
  border-color: hsl(var(--primary)) !important;
}

/* Ensure dev-only wrapper variants also use themed primary (orange etc.) */
:where([class^="css-dev-only-do-not-override-"]).ant-checkbox-checked .ant-checkbox-inner,
:where([class*=" css-dev-only-do-not-override-"]).ant-checkbox-checked .ant-checkbox-inner {
  background: hsl(var(--primary)) !important;
  border-color: hsl(var(--primary)) !important;
}

.ant-checkbox-checked:hover .ant-checkbox-inner {
  background: hsl(var(--primary)) !important;
  border-color: hsl(var(--primary)) !important;
}

.ant-checkbox-checked .ant-checkbox-inner::after {
  border-color: hsl(var(--primary-foreground)) !important;
}

.ant-checkbox-indeterminate .ant-checkbox-inner::after {
  background-color: hsl(var(--primary)) !important;
}

.ant-checkbox-wrapper,
.ant-checkbox + span {
  color: hsl(var(--foreground)) !important;
}

.ant-checkbox-wrapper-disabled,
.ant-checkbox-disabled + span {
  color: hsl(var(--muted-foreground)) !important;
}

.ant-checkbox-disabled .ant-checkbox-inner {
  background: hsl(var(--background)) !important;
  border-color: hsl(var(--border)) !important;
}

/* Ensure Ant checkbox group inherits theme text color (overrides dev-only default black) */
.ant-checkbox-group {
  color: hsl(var(--foreground)) !important;
}
.ant-checkbox-group .ant-checkbox-wrapper,
.ant-checkbox-group .ant-checkbox + span {
  color: hsl(var(--foreground)) !important;
}

/* 4) Checkbox checked state uses theme primary */
.ant-checkbox .ant-checkbox-inner {
  background: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
}
.ant-checkbox-checked .ant-checkbox-inner {
  background: var(--ant-color-primary) !important;
  border-color: var(--ant-color-primary) !important;
}
.ant-checkbox-checked .ant-checkbox-inner::after {
  border-color: var(--ant-color-text-light-solid) !important;
}

/* =============================================================================
 * GLASS EFFECTS
 * ============================================================================= */

/* Modern Liquid Glass Effect */
.liquid-glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(16px) saturate(180%);
  -webkit-backdrop-filter: blur(16px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: 12px;
  box-shadow: 
    0 8px 32px 0 rgba(31, 38, 135, 0.15),
    0 2px 8px 0 rgba(0, 0, 0, 0.06);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.liquid-glass:hover {
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.25);
  box-shadow: 
    0 12px 40px 0 rgba(31, 38, 135, 0.2),
    0 4px 12px 0 rgba(0, 0, 0, 0.08);
}

/* Dark mode glass effects */
.dark .liquid-glass {
  background: hsl(var(--background) / 0.95);
  border: 1px solid hsl(var(--border));
  box-shadow: 
    0 8px 32px 0 hsl(var(--shadow) / 0.3),
    0 2px 8px 0 hsl(var(--shadow) / 0.15);
  backdrop-filter: blur(20px) saturate(180%);
  /* Ensure no white spots with border radius */
  border-radius: 0;
}

.dark .liquid-glass:hover {
  background: hsl(var(--background) / 0.98);
  border: 1px solid hsl(var(--border));
  box-shadow: 
    0 12px 40px 0 hsl(var(--shadow) / 0.4),
    0 4px 12px 0 hsl(var(--shadow) / 0.2);
  border-radius: 0;
}

/* iOS Liquid Glass variant */
.ios-liquid-glass {
  background: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: 20px;
  box-shadow: 
    0 8px 32px 0 rgba(31, 38, 135, 0.37),
    0 2px 8px 0 rgba(0, 0, 0, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.ios-liquid-glass:hover {
  background: rgba(255, 255, 255, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.25);
}

.dark .ios-liquid-glass {
  background: hsl(var(--background) / 0.9);
  border: 1px solid hsl(var(--border));
  box-shadow: 
    0 8px 32px 0 hsl(var(--shadow) / 0.5),
    0 2px 8px 0 hsl(var(--shadow) / 0.15),
    inset 0 1px 0 hsl(var(--border));
  /* Remove border radius to prevent white spots */
  border-radius: 0;
}

.dark .ios-liquid-glass:hover {
  background: hsl(var(--background) / 0.95);
  border: 1px solid hsl(var(--border));
  border-radius: 0;
}


 /* Disabled/read-only underline token */
 .form-underline .ant-input[disabled],
 .form-underline .ant-select-disabled .ant-select-selector,
 .form-underline .ant-picker-disabled,
 .form-underline .ant-input-number-disabled {
   border-bottom-color: var(--ant-color-border) !important;
   opacity: 0.7;
 }


  .dark {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 240 5.9% 10%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 240 4.9% 83.9%;
    
    /* Dark theme shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.3), 0 8px 10px -6px rgb(0 0 0 / 0.3);
  }
}

/* =============================================================================
   BASE STYLES
   ============================================================================= */

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Typography */
  h1, h2, h3, h4, h5, h6 {
    @apply scroll-m-20 tracking-tight;
  }
  
  h1 {
    @apply text-4xl font-bold lg:text-5xl;
  }
  
  h2 {
    @apply text-3xl font-semibold first:mt-0;
  }
  
  h3 {
    @apply text-2xl font-semibold;
  }
  
  h4 {
    @apply text-xl font-semibold;
  }
  
  p {
    @apply leading-7 [&:not(:first-child)]:mt-6;
  }
  
  blockquote {
    @apply mt-6 border-l-2 pl-6 italic;
  }
  
  ul {
    @apply my-6 ml-6 list-disc [&>li]:mt-2;
  }
  
  ol {
    @apply my-6 ml-6 list-decimal [&>li]:mt-2;
  }
  
  code {
    @apply relative rounded bg-muted px-[0.3rem] py-[0.2rem] font-mono text-sm font-semibold;
  }
  
  /* Focus styles */
  :focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }
  
  /* Selection styles */
  ::selection {
    @apply bg-primary/20;
  }
  
  /* Scrollbar styles */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-muted/20;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/20 rounded-md;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/40;
  }
  
  /* Firefox scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted-foreground) / 0.2) transparent;
  }
}

/* =============================================================================
   COMPONENT STYLES
   ============================================================================= */

@layer components {
  /* Card component */
  .card {
    @apply rounded-lg border bg-card text-card-foreground shadow-sm;
  }
  
  .card-header {
    @apply flex flex-col space-y-1.5 p-6;
  }
  
  .card-title {
    @apply text-2xl font-semibold leading-none tracking-tight;
  }
  
  .card-description {
    @apply text-sm text-muted-foreground;
  }
  
  .card-content {
    @apply p-6 pt-0;
  }
  
  .card-footer {
    @apply flex items-center p-6 pt-0;
  }
  
  /* Button component */
  .btn {
    @apply inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors;
    @apply focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring;
    @apply disabled:pointer-events-none disabled:opacity-50;
  }
  
  .btn-default {
    @apply bg-primary text-primary-foreground shadow hover:bg-primary/90;
  }
  
  .btn-destructive {
    @apply bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90;
  }
  
  .btn-outline {
    @apply border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground;
  }
  
  .btn-secondary {
    @apply bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80;
  }
  
  .btn-ghost {
    @apply hover:bg-accent hover:text-accent-foreground;
  }
  
  .btn-link {
    @apply text-primary underline-offset-4 hover:underline;
  }
  
  /* Input component */
  .input {
    @apply flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors;
    @apply file:border-0 file:bg-transparent file:text-sm file:font-medium;
    @apply placeholder:text-muted-foreground;
    @apply focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring;
    @apply disabled:cursor-not-allowed disabled:opacity-50;
  }
  
  /* Label component */
  .label {
    @apply text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70;
  }
  
  /* Badge component */
  .badge {
    @apply inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors;
    @apply focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
  }
  
  .badge-default {
    @apply border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80;
  }
  
  .badge-secondary {
    @apply border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80;
  }
  
  .badge-destructive {
    @apply border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80;
  }
  
  .badge-outline {
    @apply text-foreground;
  }
  
  /* Separator component */
  .separator {
    @apply shrink-0 bg-border;
  }
  
  .separator-horizontal {
    @apply h-[1px] w-full;
  }
  
  .separator-vertical {
    @apply h-full w-[1px];
  }
}

/* =============================================================================
   UTILITY CLASSES
   ============================================================================= */

@layer utilities {
  /* Animation utilities */
  .animate-in {
    animation-duration: 150ms;
    animation-fill-mode: both;
  }
  
  .fade-in-0 {
    animation-name: fadeIn;
  }
  
  .zoom-in-95 {
    animation-name: zoomIn;
  }
  
  .slide-in-from-top-2 {
    animation-name: slideInFromTop;
  }
  
  .slide-in-from-bottom-2 {
    animation-name: slideInFromBottom;
  }
  
  .slide-in-from-left-2 {
    animation-name: slideInFromLeft;
  }
  
  .slide-in-from-right-2 {
    animation-name: slideInFromRight;
  }
  
  /* Shadow utilities */
  .shadow-sm {
    box-shadow: var(--shadow-sm);
  }
  
  .shadow {
    box-shadow: var(--shadow);
  }
  
  .shadow-md {
    box-shadow: var(--shadow-md);
  }
  
  .shadow-lg {
    box-shadow: var(--shadow-lg);
  }
  
  .shadow-xl {
    box-shadow: var(--shadow-xl);
  }
}

/* =============================================================================
   KEYFRAME ANIMATIONS
   ============================================================================= */

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes zoomIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slideInFromTop {
  from {
    transform: translateY(-2px);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes slideInFromBottom {
  from {
    transform: translateY(2px);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes slideInFromLeft {
  from {
    transform: translateX(-2px);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes slideInFromRight {
  from {
    transform: translateX(2px);
  }
  to {
    transform: translateX(0);
  }
}

/* =============================================================================
   LEGACY COMPATIBILITY
   ============================================================================= */

/* Maintain compatibility with existing Ant Design components */
.ant-layout {
  @apply bg-background text-foreground;
}

.ant-layout-header {
  @apply bg-background border-b border-border;
}

.ant-layout-sider {
  @apply bg-card;
}

.ant-layout-content {
  @apply bg-background;
}

.ant-layout-footer {
  @apply bg-background border-t border-border;
}

/* =============================================================================
 * SIDEBAR MENU THEME
 * ============================================================================= */

.ant-menu {
  @apply bg-card text-foreground border-border;
  border-right: 0 !important;
  background: hsl(var(--card)) !important;
  backdrop-filter: blur(10px);
}

.ant-menu-item {
  @apply text-foreground;
  background: transparent !important;
  border-radius: 6px !important;
  margin: 2px 8px !important;
  padding: 0 16px !important;
  height: 40px !important;
  line-height: 40px !important;
  transition: all 0.2s ease !important;
  max-width: calc(100% - 16px) !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

.ant-menu-item:hover {
  background: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
  border-radius: 6px !important;
}

/* Light theme - default behavior */
:not(.dark) .ant-menu-item-selected {
  background: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
  font-weight: 600 !important;
  border-radius: 6px !important;
  box-shadow: 0 1px 3px hsl(var(--shadow) / 0.1) !important;
  border: 1px solid hsl(var(--primary)) !important;
}

/* Dark theme overrides - use primary color with black text for better contrast */
html[data-theme="dark"]:not([data-color-theme="red"]):not([data-color-theme="green"]):not([data-color-theme="emerald"]):not([data-color-theme="teal"]):not([data-color-theme="cyan"]):not([data-color-theme="sky"]):not([data-color-theme="blue"]):not([data-color-theme="purple"]):not([data-color-theme="rose"]) .ant-menu-item-selected,
html.dark .ant-menu-item-selected {
  background: hsl(var(--primary)) !important; /* Use primary color */
  color: hsl(0 0% 0%) !important; /* Force black text for better readability */
  border: 1px solid hsl(var(--primary)) !important;
  font-weight: 600 !important;
  box-shadow: 0 1px 3px hsl(var(--shadow) / 0.1) !important;
  border-radius: 6px !important;
}

html[data-theme="dark"]:not([data-color-theme="red"]):not([data-color-theme="green"]):not([data-color-theme="emerald"]):not([data-color-theme="teal"]):not([data-color-theme="cyan"]):not([data-color-theme="sky"]):not([data-color-theme="blue"]):not([data-color-theme="purple"]):not([data-color-theme="rose"]) .ant-menu-item-selected:hover,
html.dark .ant-menu-item-selected:hover {
  background: hsl(var(--primary) / 0.8) !important; /* Slightly more transparent primary */
  color: hsl(0 0% 0%) !important; /* Force black text */
}

/* For themes with good contrast primary colors, use primary color */
[data-theme="dark"][data-color-theme="red"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="green"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="emerald"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="teal"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="cyan"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="sky"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="blue"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="purple"] .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="rose"] .ant-menu-item-selected {
  background: hsl(var(--primary)) !important; /* These themes have dark enough primary colors */
  color: hsl(var(--primary-foreground)) !important;
  border: 1px solid hsl(var(--primary)) !important;
}

/* NOTE: orange, yellow, amber are NOT included above because they are too bright in dark mode */

/* NOTE: lime, yellow, amber are NOT included above because they are too bright in dark mode */

[data-theme="dark"][data-color-theme="red"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="green"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="emerald"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="teal"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="cyan"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="sky"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="blue"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="purple"] .ant-menu-item-selected:hover,
[data-theme="dark"][data-color-theme="rose"] .ant-menu-item-selected:hover {
  background: hsl(var(--primary) / 0.9) !important;
  color: hsl(var(--primary-foreground)) !important;
}

/* NOTE: lime, yellow, amber use default accent color behavior */

/* Light theme hover - default behavior */
:not(.dark) .ant-menu-item-selected:hover {
  background: hsl(var(--primary) / 0.9) !important;
  color: hsl(var(--primary-foreground)) !important;
}

.ant-menu-submenu-title {
  color: hsl(var(--foreground)) !important;
  background: transparent !important;
  border-radius: 6px !important;
  margin: 2px 8px !important;
  padding: 0 16px !important;
  height: 40px !important;
  line-height: 40px !important;
  transition: all 0.2s ease !important;
  max-width: calc(100% - 16px) !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

.ant-menu-submenu-title:hover {
  background: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

.ant-menu-submenu-open > .ant-menu-submenu-title {
  background: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

.ant-menu-sub {
  background: hsl(var(--card)) !important;
}

.ant-menu-sub .ant-menu-item {
  padding-left: 40px !important;
  font-size: 13px !important;
  color: hsl(var(--foreground)) !important;
  background: transparent !important;
}

.ant-menu-sub .ant-menu-item:hover {
  background: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

.ant-menu-sub .ant-menu-item-selected {
  background: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
}

html[data-theme="dark"]:not([data-color-theme="red"]):not([data-color-theme="orange"]):not([data-color-theme="green"]):not([data-color-theme="emerald"]):not([data-color-theme="teal"]):not([data-color-theme="cyan"]):not([data-color-theme="sky"]):not([data-color-theme="blue"]):not([data-color-theme="purple"]):not([data-color-theme="rose"]) .ant-menu-sub .ant-menu-item-selected,
.dark .ant-menu-sub .ant-menu-item-selected {
  background: hsl(var(--primary)) !important; /* Use primary color */
  color: hsl(0 0% 0%) !important; /* Force black text */
}

/* For themes with good contrast primary colors, use primary color in submenus too */
[data-theme="dark"][data-color-theme="red"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="green"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="emerald"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="teal"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="cyan"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="sky"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="blue"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="purple"] .ant-menu-sub .ant-menu-item-selected,
[data-theme="dark"][data-color-theme="rose"] .ant-menu-sub .ant-menu-item-selected {
  background: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
}

/* NOTE: lime, yellow, amber use default accent color in submenus */

/* Menu Icons */
.ant-menu-item-icon,
.ant-menu-submenu-title .ant-menu-item-icon {
  color: hsl(var(--foreground)) !important;
  transition: color 0.2s ease !important;
  opacity: 0.8;
}

.ant-menu-item-selected .ant-menu-item-icon {
  color: hsl(var(--primary-foreground)) !important;
  opacity: 1;
}

html[data-theme="dark"]:not([data-color-theme="red"]):not([data-color-theme="orange"]):not([data-color-theme="green"]):not([data-color-theme="emerald"]):not([data-color-theme="teal"]):not([data-color-theme="cyan"]):not([data-color-theme="sky"]):not([data-color-theme="blue"]):not([data-color-theme="purple"]):not([data-color-theme="rose"]) .ant-menu-item-selected .ant-menu-item-icon,
.dark .ant-menu-item-selected .ant-menu-item-icon {
  color: hsl(0 0% 0%) !important; /* Force black text for better contrast */
}

/* For themes with good contrast primary colors, use primary foreground */
[data-theme="dark"][data-color-theme="red"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="green"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="emerald"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="teal"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="cyan"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="sky"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="blue"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="purple"] .ant-menu-item-selected .ant-menu-item-icon,
[data-theme="dark"][data-color-theme="rose"] .ant-menu-item-selected .ant-menu-item-icon {
  color: hsl(var(--primary-foreground)) !important;
}

/* NOTE: lime, yellow, amber use default accent-foreground color */

.ant-menu-submenu-open > .ant-menu-submenu-title .ant-menu-item-icon {
  color: hsl(var(--accent-foreground)) !important;
}

.ant-menu-item:hover .ant-menu-item-icon,
.ant-menu-submenu-title:hover .ant-menu-item-icon {
  color: hsl(var(--accent-foreground)) !important;
  opacity: 1;
}

/* Submenu Arrows */
.ant-menu-submenu-arrow {
  color: hsl(var(--muted-foreground)) !important;
}

.ant-menu-submenu-open > .ant-menu-submenu-title .ant-menu-submenu-arrow {
  color: hsl(var(--accent-foreground)) !important;
}

/* Collapsed Sidebar Styles */
.ant-layout-sider-collapsed .ant-menu-item,
.ant-layout-sider-collapsed .ant-menu-submenu-title {
  padding: 0 !important;
  text-align: center !important;
  margin: 2px 4px !important;
  width: calc(100% - 8px) !important;
  max-width: calc(100% - 8px) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.ant-layout-sider-collapsed .ant-menu-item-icon,
.ant-layout-sider-collapsed .ant-menu-submenu-title .ant-menu-item-icon {
  font-size: 18px !important;
  margin: 0 !important;
}

.ant-layout-sider-collapsed .ant-menu-submenu-arrow {
  display: none !important;
}

.ant-layout-sider-collapsed .ant-menu-title-content {
  display: none !important;
}

/* =============================================================================
 * MODULE BAR THEME
 * ============================================================================= */

.module-bar {
  background: hsl(var(--card));
  border-bottom: 1px solid hsl(var(--border));
  padding: 6px 12px;
  position: fixed;
  top: 48px;
  left: 240px;
  right: 0;
  z-index: 999;
  box-shadow: 0 2px 4px hsl(var(--shadow) / 0.02);
  transition: all 0.2s ease;
  height: 40px;
  display: flex;
  align-items: center;
  overflow: hidden;
}

.module-bar.collapsed-sidebar {
  left: 64px;
}

.module-bar.mobile-view {
  left: 0;
  top: 44px;
  height: 36px;
}

.module-bar-content {
  display: flex;
  gap: 6px;
  overflow-x: auto;
  overflow-y: hidden;
  padding: 0 4px;
  scrollbar-width: none;
  -ms-overflow-style: none;
  flex: 1;
  align-items: center;
}

.module-bar-content::-webkit-scrollbar {
  display: none;
}

.module-button {
  background: transparent;
  border: 1px solid transparent;
  border-radius: 5px;
  color: hsl(var(--foreground));
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 0 10px;
  transition: all 0.2s ease;
  white-space: nowrap;
  height: 32px;
  font-size: 12px;
  font-weight: 500;
  min-width: fit-content;
  flex-shrink: 0;
  letter-spacing: 0.01em;
}

.module-button:hover {
  background: hsl(var(--accent));
  color: hsl(var(--accent-foreground));
  border-color: hsl(var(--border));
}

.module-button.active {
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  border-color: hsl(var(--primary));
  font-weight: 600;
  box-shadow: 0 2px 4px hsl(var(--shadow) / 0.08);
}

.module-button:focus,
.module-button:active {
  outline: none;
  box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2);
}

/* Dark Theme Overrides */
.dark .ant-menu {
  background: hsl(var(--card)) !important;
  color: hsl(var(--foreground)) !important;
  backdrop-filter: none;
}

.dark .ant-layout-sider {
  background: hsl(var(--card)) !important;
}

.dark .app-layout-sider {
  background: hsl(var(--card)) !important;
  backdrop-filter: none !important;
  border-radius: 0 !important;
}

.dark .ant-menu-item {
  color: hsl(var(--foreground)) !important;
}

.dark .ant-menu-item:hover {
  background: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

/* These are now handled by the [data-theme="dark"] selectors above */

.dark .ant-menu-submenu-title {
  color: hsl(var(--foreground)) !important;
}

.dark .ant-menu-sub .ant-menu-item {
  color: hsl(var(--foreground)) !important;
}

/* Dark theme header */
.dark .app-layout-header {
  background: hsl(var(--background)) !important;
  border-bottom: 1px solid hsl(var(--border)) !important;
  backdrop-filter: blur(20px) saturate(180%);
}

.dark .app-layout-header .ant-btn {
  color: hsl(var(--foreground)) !important;
}

.dark .app-layout-header .app-title {
  color: hsl(var(--foreground)) !important;
}

/* Dark theme module bar */
.dark .module-bar {
  background: hsl(var(--card));
  border-bottom-color: hsl(var(--border));
}

.dark .module-button:hover {
  background: hsl(var(--accent));
  border-color: hsl(var(--border));
}

.dark .module-button:not(.active) {
  color: hsl(var(--foreground));
}

/* Mobile module bar styles */
@media (max-width: 768px) {
  .module-bar {
    padding: 5px 10px;
    left: 0 !important;
    top: 44px;
    height: 36px;
  }
  
  .module-button {
    height: 30px;
    padding: 0 8px;
    font-size: 12px;
  }
  
  .module-bar-content {
    padding-bottom: 4px;
    padding-right: 12px;
  }
}

@media (max-width: 480px) {
  .module-bar {
    padding: 4px 8px;
    height: 34px;
  }
  
  .module-button {
    height: 28px;
    padding: 0 6px;
  }
  
  .module-button .module-label {
    font-size: 11px;
  }
  
  .module-bar-content {
    padding-right: 8px;
  }
}

/* Module bar animation */
.module-bar {
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    transform: translateY(-100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.ant-btn {
  border: 1px solid hsl(var(--border)) !important;
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

.ant-btn:hover {
  background-color: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

.ant-btn-primary {
  background-color: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
  border-color: hsl(var(--primary)) !important;
}

.ant-btn-primary:hover {
  background-color: hsl(var(--primary) / 0.9) !important;
  color: hsl(var(--primary-foreground)) !important;
  border-color: hsl(var(--primary) / 0.9) !important;
}

/* Fix Ant Design Upload component blue colors */
.ant-upload-dragger {
  border-color: hsl(var(--border)) !important;
  background-color: hsl(var(--muted) / 0.1) !important;
}

.ant-upload-dragger:hover {
  border-color: hsl(var(--primary)) !important;
  background-color: hsl(var(--muted) / 0.2) !important;
}

/* More specific selectors to override Ant Design defaults */
.ant-upload.ant-upload-drag:hover {
  border-color: hsl(var(--primary)) !important;
}

.ant-upload.ant-upload-drag.ant-upload-drag-hover {
  border-color: hsl(var(--primary)) !important;
}

.ant-upload-dragger.ant-upload-drag-hover {
  border-color: hsl(var(--primary)) !important;
  background-color: hsl(var(--muted) / 0.2) !important;
}

/* Focus states */
.ant-upload-dragger:focus {
  border-color: hsl(var(--ring)) !important;
  box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2) !important;
}

.ant-upload.ant-upload-drag:focus {
  border-color: hsl(var(--ring)) !important;
  box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2) !important;
}

/* Additional specific selectors for drag over states */
.ant-upload-drag.ant-upload-drag-hover .ant-upload {
  border-color: hsl(var(--primary)) !important;
}

.ant-upload-drag:hover .ant-upload-btn {
  color: hsl(var(--primary)) !important;
}

.ant-upload-list .ant-upload-list-item-info .ant-upload-list-item-name {
  color: hsl(var(--foreground)) !important;
}

/* Ensure all Ant Design upload states use theme colors */
.ant-upload.ant-upload-drag .ant-upload-drag-container {
  border-color: inherit !important;
}

.ant-upload.ant-upload-drag .ant-upload-drag-container:hover {
  border-color: hsl(var(--primary)) !important;
}

.ant-upload-drag-icon {
  color: hsl(var(--primary)) !important;
}

.ant-upload-text {
  color: hsl(var(--foreground)) !important;
}

.ant-upload-hint {
  color: hsl(var(--muted-foreground)) !important;
}

/* Fix Ant Design Steps component blue colors */
.ant-steps-item-process .ant-steps-item-icon {
  background-color: hsl(var(--primary)) !important;
  border-color: hsl(var(--primary)) !important;
}

.ant-steps-item-process .ant-steps-item-icon .ant-steps-icon {
  color: hsl(var(--primary-foreground)) !important;
}

.ant-steps-item-active .ant-steps-item-icon {
  background-color: hsl(var(--primary)) !important;
  border-color: hsl(var(--primary)) !important;
}

.ant-steps-item-active .ant-steps-item-icon .ant-steps-icon {
  color: hsl(var(--primary-foreground)) !important;
}

.ant-steps-item-finish .ant-steps-item-icon {
  background-color: hsl(var(--success)) !important;
  border-color: hsl(var(--success)) !important;
}

.ant-steps-item-finish .ant-steps-item-icon .ant-steps-icon {
  color: hsl(var(--success-foreground)) !important;
}

.ant-steps-item-wait .ant-steps-item-icon {
  background-color: hsl(var(--muted)) !important;
  border-color: hsl(var(--border)) !important;
}

.ant-steps-item-wait .ant-steps-item-icon .ant-steps-icon {
  color: hsl(var(--muted-foreground)) !important;
}

.ant-steps-item-title {
  color: hsl(var(--foreground)) !important;
}

.ant-steps-item-description {
  color: hsl(var(--muted-foreground)) !important;
}

.ant-steps-item-tail::after {
  background-color: hsl(var(--border)) !important;
}

.ant-steps-item-finish .ant-steps-item-tail::after {
  background-color: hsl(var(--success)) !important;
}

/* Fix Ant Design Card component colors */
.ant-card-head-title {
  color: hsl(var(--foreground)) !important;
}

.ant-card-head {
  background-color: hsl(var(--muted) / 0.1) !important;
  border-bottom: 1px solid hsl(var(--border)) !important;
}

.ant-card {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
}

.ant-card-body {
  color: hsl(var(--foreground)) !important;
}

/* Ensure all card elements use theme colors */
.ant-card-head .ant-card-head-title,
.ant-card-head .ant-card-extra,
.ant-card-head .ant-card-head-tabs .ant-tabs-tab {
  color: hsl(var(--foreground)) !important;
}

.ant-card-head .ant-card-head-tabs .ant-tabs-tab:hover {
  color: hsl(var(--primary)) !important;
}

.ant-card-head .ant-card-head-tabs .ant-tabs-tab.ant-tabs-tab-active {
  color: hsl(var(--primary)) !important;
}

/* Fix Ant Design Form components colors */

/* Fix Ant Design Form components for DocumentFormGadget */
.ant-form-item-label > label {
  color: hsl(var(--foreground)) !important;
  font-weight: 500 !important;
}

.ant-form-item-label > label.ant-form-item-required::before {
  color: hsl(var(--destructive)) !important;
}

.ant-form-item-label > label.ant-form-item-required::after {
  color: hsl(var(--destructive)) !important;
}

.ant-form-item-explain {
  color: hsl(var(--destructive)) !important;
}

.ant-form-item-explain-error {
  color: hsl(var(--destructive)) !important;
}

.ant-form-item-explain-warning {
  color: hsl(var(--warning)) !important;
}

.ant-form-item-explain-success {
  color: hsl(var(--success)) !important;
}

/* Fix Form.Item spacing and padding */
.ant-form-item {
  margin-bottom: var(--spacing-4) !important;
  padding: var(--spacing-2) 0 !important;
}

.ant-form-item-label {
  padding-bottom: var(--spacing-1) !important;
}

.ant-form-item-control {
  padding-top: var(--spacing-1) !important;
}

/* Fix Form container styling */
.ant-form {
  padding: var(--spacing-4) !important;
  background-color: hsl(var(--background)) !important;
  border: none !important;
  border-radius: var(--radius) !important;
  box-shadow: none !important;
}

/* Fix DocumentFormGadget specific styling */
.document-form-gadget {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

.document-form-gadget .ant-form {
  background-color: hsl(var(--background)) !important;
}

.document-form-gadget .ant-card {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  color: hsl(var(--foreground)) !important;
}

.document-form-gadget .ant-card-head {
  background-color: hsl(var(--muted) / 0.1) !important;
  border-bottom: 1px solid hsl(var(--border)) !important;
}

.document-form-gadget .ant-card-body {
  background-color: hsl(var(--card)) !important;
  color: hsl(var(--foreground)) !important;
}

/* Fix Form sections and groups */
.ant-form-item-group {
  margin-bottom: var(--spacing-6) !important;
  padding: var(--spacing-4) !important;
  background-color: hsl(var(--muted) / 0.1) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
}

/* Fix individual form items */
.ant-form-item {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  padding: var(--spacing-3) !important;
  border-radius: var(--radius) !important;
  margin-bottom: var(--spacing-4) !important;
}

.ant-form-item:hover {
  background-color: transparent !important;
  border: none !important;
}

/* Fix form item labels */
.ant-form-item-label {
  background-color: transparent !important;
  color: hsl(var(--foreground)) !important;
}

/* Fix form item controls */
.ant-form-item-control {
  background-color: transparent !important;
  color: hsl(var(--foreground)) !important;
}

/* Fix form item control input content */
.ant-form-item-control-input-content {
  background-color: transparent !important;
  color: hsl(var(--foreground)) !important;
}

.ant-form-item-group-title {
  color: hsl(var(--foreground)) !important;
  font-weight: 600 !important;
  font-size: 16px !important;
  margin-bottom: var(--spacing-3) !important;
  padding-bottom: var(--spacing-2) !important;
  border-bottom: 1px solid hsl(var(--border)) !important;
}

/* Fix Form tabs */
.ant-tabs-tab {
  color: hsl(var(--foreground)) !important;
}

.ant-tabs-tab:hover {
  color: hsl(var(--primary)) !important;
}

.ant-tabs-tab.ant-tabs-tab-active {
  color: hsl(var(--primary)) !important;
}

.ant-tabs-tab-btn {
  color: inherit !important;
}

.ant-tabs-content-holder {
  padding: var(--spacing-4) 0 !important;
}

/* Fix Form sections */
.ant-collapse {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
}

.ant-collapse-item {
  border-bottom: 1px solid hsl(var(--border)) !important;
}

.ant-collapse-header {
  color: hsl(var(--foreground)) !important;
  background-color: hsl(var(--muted) / 0.1) !important;
  padding: var(--spacing-3) var(--spacing-4) !important;
}

.ant-collapse-content {
  background-color: hsl(var(--background)) !important;
  border-top: 1px solid hsl(var(--border)) !important;
}

.ant-collapse-content-box {
  padding: var(--spacing-4) !important;
}

/* Fix form sections and containers */
.form-section,
.form-group,
.form-container {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  padding: var(--spacing-4) !important;
  margin-bottom: var(--spacing-6) !important;
  color: hsl(var(--foreground)) !important;
}

.form-section-title,
.form-group-title,
.form-container-title {
  color: hsl(var(--foreground)) !important;
  font-weight: 600 !important;
  font-size: 16px !important;
  margin-bottom: var(--spacing-3) !important;
  padding-bottom: var(--spacing-2) !important;
  border-bottom: 1px solid hsl(var(--border)) !important;
}

/* Fix form field containers */
.form-field-container,
.field-container {
  background-color: hsl(var(--background)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  padding: var(--spacing-3) !important;
  margin-bottom: var(--spacing-3) !important;
  color: hsl(var(--foreground)) !important;
}

.form-field-container:hover,
.field-container:hover {
  background-color: hsl(var(--accent) / 0.05) !important;
  border-color: hsl(var(--accent)) !important;
}

/* Fix form rows and columns */
.ant-row {
  background-color: transparent !important;
  color: hsl(var(--foreground)) !important;
}

.ant-col {
  background-color: transparent !important;
  color: hsl(var(--foreground)) !important;
}

/* Fix form wizard steps */
.ant-steps {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  padding: var(--spacing-4) !important;
  margin-bottom: var(--spacing-6) !important;
}

/* Fix form progress bars */
.ant-progress {
  background-color: transparent !important;
}

.ant-progress-bg {
  background-color: hsl(var(--primary)) !important;
}

.ant-progress-text {
  color: hsl(var(--foreground)) !important;
}

/* Fix FormRenderer specific classes */
.form-group-card {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  color: hsl(var(--foreground)) !important;
}

.form-section-content {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

.form-underline {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

.form-sidebar {
  background-color: hsl(var(--muted) / 0.1) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  color: hsl(var(--foreground)) !important;
}

.section-glass {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  color: hsl(var(--foreground)) !important;
  backdrop-filter: blur(10px) !important;
}

.liquid-glass {
  background-color: hsl(var(--card) / 0.8) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  color: hsl(var(--foreground)) !important;
  backdrop-filter: blur(10px) !important;
}

/* Fix Form buttons and actions */
.ant-form-item-control-input-content .ant-btn {
  margin-right: var(--spacing-2) !important;
}

.ant-form-item-control-input-content .ant-btn:last-child {
  margin-right: 0 !important;
}

/* Fix Form validation messages */
.ant-form-item-explain,
.ant-form-item-extra {
  margin-top: var(--spacing-1) !important;
  font-size: 12px !important;
}

/* Fix Form field groups */
.ant-form-item-group {
  margin-bottom: var(--spacing-6) !important;
}

.ant-form-item-group .ant-form-item {
  margin-bottom: var(--spacing-3) !important;
}

/* Fix Form layout */
.ant-form-horizontal .ant-form-item-label {
  text-align: left !important;
  padding-right: var(--spacing-2) !important;
}

.ant-form-vertical .ant-form-item-label {
  padding-bottom: var(--spacing-1) !important;
}

/* Fix Form inline layout */
.ant-form-inline .ant-form-item {
  margin-right: var(--spacing-4) !important;
  margin-bottom: var(--spacing-3) !important;
}

/* Fix Form compact layout */
.ant-form-compact .ant-form-item {
  margin-bottom: var(--spacing-2) !important;
}

/* Fix Form field descriptions */
.ant-form-item-extra {
  color: hsl(var(--muted-foreground)) !important;
  font-size: 12px !important;
  line-height: 1.4 !important;
}

/* Fix Form field help text */
.ant-form-item-help {
  color: hsl(var(--muted-foreground)) !important;
  font-size: 12px !important;
  margin-top: var(--spacing-1) !important;
}

/* Fix Form field tooltips */
.ant-form-item-tooltip {
  color: hsl(var(--muted-foreground)) !important;
}

/* Fix Form field status indicators */
.ant-form-item-has-success .ant-form-item-split {
  color: hsl(var(--success)) !important;
}

.ant-form-item-has-warning .ant-form-item-split {
  color: hsl(var(--warning)) !important;
}

.ant-form-item-has-error .ant-form-item-split {
  color: hsl(var(--destructive)) !important;
}

/* Fix Form field validation states */
.ant-form-item-has-success .ant-input,
.ant-form-item-has-success .ant-input-affix-wrapper {
  border-color: hsl(var(--success)) !important;
}

.ant-form-item-has-warning .ant-input,
.ant-form-item-has-warning .ant-input-affix-wrapper {
  border-color: hsl(var(--warning)) !important;
}

.ant-form-item-has-error .ant-input,
.ant-form-item-has-error .ant-input-affix-wrapper {
  border-color: hsl(var(--destructive)) !important;
}

/* Fix Ant Design Radio component colors */
.ant-radio {
  color: hsl(var(--foreground)) !important;
}

.ant-radio .ant-radio-inner {
  border-color: hsl(var(--border)) !important;
  background-color: hsl(var(--background)) !important;
}

.ant-radio:hover .ant-radio-inner {
  border-color: hsl(var(--primary)) !important;
}

.ant-radio-checked .ant-radio-inner {
  border-color: hsl(var(--primary)) !important;
  background-color: hsl(var(--primary)) !important;
}

.ant-radio-checked .ant-radio-inner::after {
  background-color: hsl(var(--primary-foreground)) !important;
}

.ant-radio-disabled .ant-radio-inner {
  border-color: hsl(var(--border)) !important;
  background-color: hsl(var(--muted)) !important;
}

.ant-radio-disabled + span {
  color: hsl(var(--muted-foreground)) !important;
}

/* Fix Ant Design Radio Button colors */
.ant-radio-button-wrapper {
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border)) !important;
  background-color: hsl(var(--background)) !important;
}

.ant-radio-button-wrapper:hover {
  color: hsl(var(--primary)) !important;
  border-color: hsl(var(--primary)) !important;
}

.ant-radio-button-wrapper-checked {
  color: hsl(var(--primary-foreground)) !important;
  border-color: hsl(var(--primary)) !important;
  background-color: hsl(var(--primary)) !important;
}

.ant-radio-button-wrapper-checked:hover {
  color: hsl(var(--primary-foreground)) !important;
  border-color: hsl(var(--primary) / 0.8) !important;
  background-color: hsl(var(--primary) / 0.8) !important;
}

/* Fix Ant Design Segmented component colors */
.ant-segmented {
  background-color: hsl(var(--muted)) !important;
  border-color: hsl(var(--border)) !important;
}

.ant-segmented-item {
  color: hsl(var(--foreground)) !important;
  background-color: transparent !important;
  border-color: transparent !important;
}

.ant-segmented-item:hover {
  color: hsl(var(--foreground)) !important;
  background-color: hsl(var(--accent)) !important;
}

.ant-segmented-item-selected {
  color: hsl(var(--primary-foreground)) !important;
  background-color: hsl(var(--primary)) !important;
  border-color: hsl(var(--primary)) !important;
}

.ant-segmented-item-disabled {
  color: hsl(var(--muted-foreground)) !important;
  background-color: hsl(var(--muted)) !important;
}

.ant-segmented-thumb {
  background-color: hsl(var(--primary)) !important;
  border-color: hsl(var(--primary)) !important;
}

/* Fix Ant Design Steps component spacing and padding */
.ant-steps {
  padding: var(--spacing-4) !important;
  margin: var(--spacing-4) 0 !important;
}

.ant-steps .ant-steps-item {
  padding: var(--spacing-2) !important;
  margin: 0 var(--spacing-2) !important;
  min-width: 120px !important;
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  text-align: center !important;
}

.ant-steps .ant-steps-item-icon {
  margin-right: var(--spacing-2) !important;
  padding: var(--spacing-1) !important;
}

.ant-steps .ant-steps-item-content {
  padding: var(--spacing-1) 0 !important;
}

.ant-steps .ant-steps-item-title {
  padding: var(--spacing-1) 0 !important;
  margin: 0 !important;
}

.ant-steps .ant-steps-item-description {
  padding: var(--spacing-1) 0 !important;
  margin: 0 !important;
}

.ant-steps .ant-steps-item-tail {
  padding: var(--spacing-2) 0 !important;
}

.ant-steps .ant-steps-item-tail::after {
  padding: var(--spacing-1) 0 !important;
}

/* Ensure Steps container uses theme spacing */
.ant-steps-container {
  padding: var(--spacing-4) !important;
  margin: var(--spacing-4) 0 !important;
}

/* Fix Steps navigation spacing */
.ant-steps-navigation {
  padding: var(--spacing-4) !important;
}

.ant-steps-navigation .ant-steps-item {
  padding: var(--spacing-2) var(--spacing-4) !important;
}

/* Enhanced Steps styling for better theme integration */
.ant-steps .ant-steps-item-icon {
  background-color: transparent !important;
  border: none !important;
  color: hsl(var(--muted-foreground)) !important;
  font-size: 20px !important;
  width: auto !important;
  height: auto !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  margin-bottom: var(--spacing-2) !important;
}

.ant-steps .ant-steps-item-process .ant-steps-item-icon {
  background-color: transparent !important;
  border: none !important;
  color: hsl(var(--primary)) !important;
}

.ant-steps .ant-steps-item-process .ant-steps-item-icon .anticon {
  color: hsl(var(--primary)) !important;
}

.ant-steps .ant-steps-item-finish .ant-steps-item-icon {
  background-color: transparent !important;
  border: none !important;
  color: hsl(var(--success)) !important;
}

.ant-steps .ant-steps-item-finish .ant-steps-item-icon .anticon {
  color: hsl(var(--success)) !important;
}

.ant-steps .ant-steps-item-icon .anticon {
  color: hsl(var(--muted-foreground)) !important;
}

.ant-steps .ant-steps-item-title {
  color: hsl(var(--foreground)) !important;
  font-weight: 500 !important;
  white-space: normal !important;
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  max-width: 200px !important;
  line-height: 1.4 !important;
  text-align: center !important;
  margin: 0 auto !important;
}

.ant-steps .ant-steps-item-process .ant-steps-item-title {
  color: hsl(var(--primary)) !important;
  font-weight: 600 !important;
}

.ant-steps .ant-steps-item-finish .ant-steps-item-title {
  color: hsl(var(--success)) !important;
  font-weight: 500 !important;
}

.ant-steps .ant-steps-item-description {
  color: hsl(var(--muted-foreground)) !important;
  text-align: center !important;
  margin: 0 auto !important;
}

.ant-steps .ant-steps-item-process .ant-steps-item-description {
  color: hsl(var(--primary)) !important;
}

.ant-steps .ant-steps-item-finish .ant-steps-item-description {
  color: hsl(var(--success)) !important;
}

.ant-steps .ant-steps-item-tail::after {
  background-color: hsl(var(--border)) !important;
}

.ant-steps .ant-steps-item-finish .ant-steps-item-tail::after {
  background-color: hsl(var(--success)) !important;
}

/* Ensure Steps container has proper theme styling */
.ant-steps {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: var(--radius) !important;
  box-shadow: 0 2px 8px hsl(var(--shadow) / 0.1) !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  padding: var(--spacing-4) var(--spacing-6) !important;
}

/* FINAL OVERRIDE - Completely eliminate any remaining blue colors */
* {
  --ant-primary-color: hsl(var(--primary)) !important;
  --ant-primary-color-hover: hsl(var(--primary) / 0.8) !important;
  --ant-primary-color-active: hsl(var(--primary) / 0.9) !important;
  --ant-primary-1: hsl(var(--primary) / 0.1) !important;
  --ant-primary-2: hsl(var(--primary) / 0.2) !important;
  --ant-primary-3: hsl(var(--primary) / 0.3) !important;
  --ant-primary-4: hsl(var(--primary) / 0.4) !important;
  --ant-primary-5: hsl(var(--primary) / 0.5) !important;
  --ant-primary-6: hsl(var(--primary)) !important;
  --ant-primary-7: hsl(var(--primary) / 0.9) !important;
}

/* Force override any remaining blue hex colors */
[style*="#1890ff"] {
  border-color: hsl(var(--primary)) !important;
  background-color: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
}

[style*="#40a9ff"] {
  border-color: hsl(var(--ring)) !important;
  background-color: hsl(var(--ring)) !important;
  color: hsl(var(--primary-foreground)) !important;
}

/* Ensure upload drag area uses theme colors in all states */
.ant-upload-drag,
.ant-upload-dragger,
.ant-upload.ant-upload-drag {
  border: 2px dashed hsl(var(--border)) !important;
  background: hsl(var(--muted) / 0.1) !important;
}

.ant-upload-drag:hover,
.ant-upload-dragger:hover,
.ant-upload.ant-upload-drag:hover {
  border-color: hsl(var(--primary)) !important;
  background: hsl(var(--muted) / 0.2) !important;
}

.ant-input {
  @apply border-input bg-background text-foreground;
}

.ant-card {
  @apply bg-card text-card-foreground border-border;
}

/* =============================================================================
   RESPONSIVE DESIGN
   ============================================================================= */

/* Mobile-first responsive design */
@media (max-width: 768px) {
  .container {
    @apply px-4;
  }
  
  h1 {
    @apply text-3xl;
  }
  
  h2 {
    @apply text-2xl;
  }
  
  h3 {
    @apply text-xl;
  }
}

/* =============================================================================
   ACCESSIBILITY
   ============================================================================= */

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  :root {
    --border: 240 100% 0%;
    --ring: 240 100% 0%;
  }
  
  .dark {
    --border: 0 0% 100%;
    --ring: 0 0% 100%;
  }
}

/* =============================================================================
   PRINT STYLES
   ============================================================================= */

@media print {
  * {
    background: transparent !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  body {
    font-size: 12pt;
    line-height: 1.5;
  }
  
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
}

/* =============================================================================
 * GLASS EFFECTS
 * ============================================================================= */

/* Modern Liquid Glass Effect */
.liquid-glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(16px) saturate(180%);
  -webkit-backdrop-filter: blur(16px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: 12px;
  box-shadow: 
    0 8px 32px 0 rgba(31, 38, 135, 0.15),
    0 2px 8px 0 rgba(0, 0, 0, 0.06);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.liquid-glass:hover {
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.25);
  box-shadow: 
    0 12px 40px 0 rgba(31, 38, 135, 0.2),
    0 4px 12px 0 rgba(0, 0, 0, 0.08);
}

/* Dark mode glass effects */
.dark .liquid-glass {
  background: hsl(var(--background) / 0.95);
  border: 1px solid hsl(var(--border));
  box-shadow: 
    0 8px 32px 0 hsl(var(--shadow) / 0.3),
    0 2px 8px 0 hsl(var(--shadow) / 0.15);
  backdrop-filter: blur(20px) saturate(180%);
  /* Ensure no white spots with border radius */
  border-radius: 0;
}

.dark .liquid-glass:hover {
  background: hsl(var(--background) / 0.98);
  border: 1px solid hsl(var(--border));
  box-shadow: 
    0 12px 40px 0 hsl(var(--shadow) / 0.4),
    0 4px 12px 0 hsl(var(--shadow) / 0.2);
  border-radius: 0;
}

/* iOS Liquid Glass variant */
.ios-liquid-glass {
  background: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: 20px;
  box-shadow: 
    0 8px 32px 0 rgba(31, 38, 135, 0.37),
    0 2px 8px 0 rgba(0, 0, 0, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.ios-liquid-glass:hover {
  background: rgba(255, 255, 255, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.25);
}

.dark .ios-liquid-glass {
  background: hsl(var(--background) / 0.9);
  border: 1px solid hsl(var(--border));
  box-shadow: 
    0 8px 32px 0 hsl(var(--shadow) / 0.5),
    0 2px 8px 0 hsl(var(--shadow) / 0.15),
    inset 0 1px 0 hsl(var(--border));
  /* Remove border radius to prevent white spots */
  border-radius: 0;
}

.dark .ios-liquid-glass:hover {
  background: hsl(var(--background) / 0.95);
  border: 1px solid hsl(var(--border));
  border-radius: 0;
}

/* =============================================================================
   UNDERLINE FORM VARIANT — strong specificity (Ant tokens only)
   ============================================================================= */
/* Usage: wrap fields in an element with class `form-underline` (we set it on Form). */
.form-underline .ant-form-item-control input,
.form-underline .ant-form-item-control textarea,
.form-underline .ant-form-item-control .ant-input,
.form-underline .ant-form-item-control .ant-input-affix-wrapper,
.form-underline .ant-form-item-control .ant-select-selector,
.form-underline .ant-form-item-control .ant-select-selection-search-input,
.form-underline .ant-form-item-control .ant-input-number,
.form-underline .ant-form-item-control .ant-input-number-input,
.form-underline .ant-form-item-control .ant-picker,
.form-underline .ant-form-item-control .ant-picker-underlined,
.form-underline .ant-form-item-control .ant-picker-input > input {
  border-block-start: 0 !important;
}

/* Ensure only underline is visible for key controls */
.form-underline .ant-form-item-control .ant-input,
.form-underline .ant-form-item-control .ant-input-affix-wrapper,
.form-underline .ant-form-item-control .ant-select-selector,
.form-underline .ant-form-item-control .ant-input-number,
.form-underline .ant-form-item-control .ant-picker {
  border-inline-start: 0 !important;
  border-inline-end: 0 !important;
  border-bottom: 1px solid var(--ant-color-text) !important; /* higher-contrast underline */
  border-radius: 0 !important;
  box-shadow: none !important;
}

/* Improve visibility for Select (single/multiple) underlines */
.form-underline .ant-form-item-control .ant-select-selector {
  background: transparent !important;
}

/* Checkbox text and state use theme tokens */
.ant-checkbox-wrapper,
.ant-checkbox + span {
  color: var(--ant-color-text) !important;
}

.ant-checkbox .ant-checkbox-inner {
  background: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
}

.ant-checkbox-checked .ant-checkbox-inner {
  background: var(--ant-color-primary) !important;
  border-color: var(--ant-color-primary) !important;
}

.ant-checkbox-checked .ant-checkbox-inner::after {
  border-color: var(
    --ant-color-text-light-solid,
    var(--ant-color-white, #fff)
  ) !important;
}

/* Select dropdown panel uses elevated background */
.ant-select-dropdown {
  background: var(--ant-color-bg-elevated, var(--ant-color-bg-container)) !important;
  border: 1px solid var(--ant-color-border) !important;
  color: var(--ant-color-text) !important;
}

.ant-select-item { color: var(--ant-color-text) !important; }
.ant-select-item-option-active { background: var(--ant-color-fill-secondary, transparent) !important; }
.ant-select-item-option-selected {
  background: var(--ant-color-primary) !important;
  color: var(--ant-color-text-light-solid, var(--ant-color-white, #fff)) !important;
}

/* Calendar popup readability */
.ant-picker-dropdown,
.ant-picker-panel-container {
  background: var(--ant-color-bg-elevated, var(--ant-color-bg-container)) !important;
  border-color: var(--ant-color-border) !important;
  color: var(--ant-color-text) !important;
}
.ant-picker-header,
.ant-picker-content,
.ant-picker-cell,
.ant-picker-time-panel {
  color: var(--ant-color-text) !important;
}
.ant-picker-cell-in-view.ant-picker-cell-selected .ant-picker-cell-inner,
.ant-picker-ok button,
.ant-picker-today-btn {
  background: var(--ant-color-primary) !important;
  color: var(--ant-color-text-light-solid, var(--ant-color-white, #fff)) !important;
  border-color: var(--ant-color-primary) !important;
}

/* Focus state */
.form-underline .ant-form-item-control .ant-input:focus,
.form-underline .ant-form-item-control .ant-input-affix-wrapper-focused,
.form-underline .ant-form-item-control .ant-select-focused .ant-select-selector,
.form-underline .ant-form-item-control .ant-select-open .ant-select-selector,
.form-underline .ant-form-item-control .ant-picker-focused,
.form-underline .ant-form-item-control .ant-input-number-focused,
.form-underline .ant-form-item-control .ant-picker-input > input:focus {
  border-bottom-color: var(--ant-color-primary) !important;
  box-shadow: none !important;
}

/* Hover keeps token border */
.form-underline .ant-form-item-control .ant-input:hover,
.form-underline .ant-form-item-control .ant-input-affix-wrapper:hover,
.form-underline .ant-form-item-control .ant-select-selector:hover,
.form-underline .ant-form-item-control .ant-picker:hover,
.form-underline .ant-form-item-control .ant-input-number:hover {
  border-bottom-color: var(--ant-color-border) !important;
  box-shadow: none !important;
}

/* Remove inner element borders that may reintroduce box styles */
.form-underline .ant-input-affix-wrapper > .ant-input,
.form-underline .ant-input-number-input,
.form-underline .ant-picker-input > input {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* Disabled/read-only underline token */
.form-underline .ant-input[disabled],
.form-underline .ant-select-disabled .ant-select-selector,
.form-underline .ant-picker-disabled,
.form-underline .ant-input-number-disabled {
  border-bottom-color: var(--ant-color-border) !important;
  opacity: 0.7;
}

/* =============================================================================
   Ant Design form control base colors (tokens only) for dark/light themes
   ============================================================================= */
.ant-input,
.ant-input-affix-wrapper,
.ant-select-selector,
.ant-input-number,
.ant-picker {
  background: var(--ant-color-bg-container) !important;
  color: var(--ant-color-text) !important;
  border-color: var(--ant-color-border) !important;
}

/* Placeholder text */
.ant-input::placeholder,
.ant-input-affix-wrapper .ant-input::placeholder,
.ant-select-selection-placeholder,
.ant-picker-input > input::placeholder {
  color: var(--ant-color-text-tertiary, var(--ant-color-text-secondary)) !important;
}


/* Enhanced Theme Icon Animations */
@keyframes pulse {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 0.6;
    transform: scale(1.05);
  }
}

.enhanced-theme-icon {
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.enhanced-theme-icon:active {
  transform: translateY(0px) scale(0.95) !important;
  transition: all 150ms ease !important;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .enhanced-theme-icon {
    border-width: 2px !important;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .enhanced-theme-icon,
  .enhanced-theme-icon * {
    transition: none !important;
    animation: none !important;
  }
}
