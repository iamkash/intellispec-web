{
  "id": "piping-visual-inspection-wizard",
  "title": "Visual Piping Inspection Wizard",
  "description": "Visual-only piping inspection wizard with API 574 compliance, AI analysis, and automated work order generation",
  "icon": "EyeOutlined",
  "type": "wizard",
  "mode": "wizard",
  "layout": "dashboard",
  "standards": ["API 574", "API 570"],
  "gadgets": [
    {
      "id": "wizard-navigation",
      "type": "action-panel-gadget",
      "title": "Navigation",
      "description": "Quick navigation for the visual piping inspection wizard",
      "position": 12,
      "size": 12,
      "config": {
        "title": "Navigation",
        "actions": [
          {
            "id": "back-to-piping-dashboard",
            "label": "Back to Dashboard",
            "description": "Return to piping inspection dashboard",
            "icon": "ExperimentOutlined",
            "type": "workspace",
            "workspace": "inspection/piping-inspection-dashboard",
            "category": "navigation",
            "color": "default"
          },
          {
            "id": "back-to-inspection-home",
            "label": "Inspection Home",
            "description": "Return to the main inspection dashboard",
            "icon": "HomeOutlined",
            "type": "workspace",
            "workspace": "inspection/inspection-home",
            "category": "navigation",
            "color": "default"
          }
        ]
      }
    },
    {
      "id": "workflow-metadata",
      "type": "action-panel-gadget",
      "title": "Workflow Configuration",
      "description": "Metadata-driven workflow configuration for visual piping inspection",
      "position": 0,
      "size": 0,
      "config": {
        "title": "Workflow Configuration",
        "actions": []
      },
      "workflowConfig": {
        "workflowId": "piping-visual-inspection-workflow",
        "agents": [
          {
            "id": "EquipmentIdentificationAgent",
            "type": "EquipmentIdentificationAgent",
            "config": {
              "analysisPrompt": "Extract equipment information from nameplate images including manufacturer, model, serial number, design pressure, temperature, and material specifications. Cross-reference with the voice inspection transcript from Step 1 to validate findings and identify any equipment mentioned. Perform comprehensive OCR on all visible text and populate equipment details automatically. Flag any discrepancies between OCR data and voice transcript observations.",
              "aiConfig": {
                "model": "gpt-5",
                "reasoningConfig": {
                  "reasoningEffort": "high",
                  "textVerbosity": "medium",
                  "maxCompletionTokens": 1000
                },
                "temperature": 0.1
              }
            }
          },
          {
            "id": "VisualInspectionAgent",
            "type": "VisualInspectionAgent",
            "config": {
              "analysisPrompt": "COMBINED ANALYSIS: Analyze external piping photos in direct correlation with the voice inspection transcript from Step 1. For each observation mentioned in the voice transcript, verify visual evidence in the images. Additionally, identify any critical findings visible in photos but NOT mentioned in the voice transcript. Specific tasks:\n\n1. VOICE-IMAGE CORRELATION: Match each voice observation (corrosion, leaks, support issues) with corresponding visual evidence\n2. SEVERITY VALIDATION: Compare inspector's verbal severity assessment with visual analysis\n3. ADDITIONAL FINDINGS: Identify defects visible in images but missed in voice inspection\n4. DISCREPANCY ANALYSIS: Flag any contradictions between voice and visual observations\n5. QUANTIFICATION: Provide measurements and percentages based on visual analysis to supplement voice descriptions\n\nClassify all findings per API 574 standards and provide confidence levels for each assessment.",
              "aiConfig": {
                "model": "gpt-5",
                "reasoningConfig": {
                  "reasoningEffort": "high",
                  "textVerbosity": "medium",
                  "maxCompletionTokens": 1500
                },
                "temperature": 0.2
              }
            }
          },
          {
            "id": "VisualCorrosionAnalysisAgent",
            "type": "VisualCorrosionAnalysisAgent",
            "config": {
              "analysisPrompt": "Analyze corrosion patterns based on visual inspection only. Apply API 574 and API 570 standards for visual corrosion assessment. Focus on external corrosion that can be observed without NDT methods. Assess corrosion severity, type, and extent based on visual indicators such as rust, pitting, scaling, and coating failure.",
              "aiConfig": {
                "model": "gpt-5",
                "reasoningConfig": {
                  "reasoningEffort": "high",
                  "textVerbosity": "medium",
                  "maxCompletionTokens": 1500
                },
                "temperature": 0.3
              }
            }
          },
          {
            "id": "ComplianceCheckAgent",
            "type": "ComplianceCheckAgent",
            "config": {
              "analysisPrompt": "Verify compliance with API 574 and API 570 standards based on visual inspection findings only. Identify violations and recommend corrective actions that can be determined from visual observations.",
              "aiConfig": {
                "model": "gpt-5",
                "reasoningConfig": {
                  "reasoningEffort": "medium",
                  "textVerbosity": "medium",
                  "maxCompletionTokens": 1200
                },
                "temperature": 0.2
              }
            }
          },
          {
            "id": "VisualRiskAssessmentAgent",
            "type": "VisualRiskAssessmentAgent",
            "config": {
              "analysisPrompt": "Perform comprehensive risk assessment using visual inspection data only. Prioritize mitigation actions and recommend inspection intervals based on visual findings. Focus on observable risk factors such as corrosion severity, structural damage, and coating condition.",
              "aiConfig": {
                "model": "gpt-5",
                "reasoningConfig": {
                  "reasoningEffort": "high",
                  "textVerbosity": "medium",
                  "maxCompletionTokens": 1500
                },
                "temperature": 0.3
              }
            }
          },
          {
            "id": "RecommendationAgent",
            "type": "RecommendationAgent",
            "config": {
              "analysisPrompt": "Generate comprehensive recommendations based on visual inspection data only. Prioritize actions and create work orders for maintenance teams. Focus on recommendations that can be made from visual observations without requiring NDT methods.",
              "aiConfig": {
                "model": "gpt-5",
                "reasoningConfig": {
                  "reasoningEffort": "medium",
                  "textVerbosity": "medium",
                  "maxCompletionTokens": 1500
                },
                "temperature": 0.3
              }
            }
          }
        ],
        "connections": [
          {
            "from": "EquipmentIdentificationAgent",
            "to": "VisualInspectionAgent",
            "data_mapping": {
              "source": "EquipmentIdentificationAgent.equipmentData",
              "target": "VisualInspectionAgent.equipmentContext"
            }
          },
          {
            "from": "VisualInspectionAgent",
            "to": "VisualCorrosionAnalysisAgent",
            "data_mapping": {
              "source": "VisualInspectionAgent.findings",
              "target": "VisualCorrosionAnalysisAgent.visualData"
            }
          },
          {
            "from": "VisualCorrosionAnalysisAgent",
            "to": "ComplianceCheckAgent",
            "data_mapping": {
              "source": "VisualCorrosionAnalysisAgent.assessment",
              "target": "ComplianceCheckAgent.corrosionData"
            }
          },
          {
            "from": "ComplianceCheckAgent",
            "to": "VisualRiskAssessmentAgent",
            "data_mapping": {
              "source": "ComplianceCheckAgent.complianceResults",
              "target": "VisualRiskAssessmentAgent.complianceData"
            }
          },
          {
            "from": "VisualRiskAssessmentAgent",
            "to": "RecommendationAgent",
            "data_mapping": {
              "source": "VisualRiskAssessmentAgent.riskAssessment",
              "target": "RecommendationAgent.riskData"
            }
          }
        ],
        "entryPoint": "EquipmentIdentificationAgent",
        "finishPoint": "RecommendationAgent"
      }
    },
    {
      "id": "piping-visual-inspection-gadget",
      "type": "ai-agentic-wizard-gadget",
      "title": "Visual Piping Inspection Wizard",
      "description": "AI-powered visual piping inspection with automated analysis and work order generation",
      "position": 24,
      "size": 24,
      "config": {
        "enableRealtimeAI": true,
        "enableHITL": true,
        "enableWorkOrders": true,
        "showProgress": true,
        "aiConfig": {
          "defaultModel": "gpt-5",
          "visionModel": "gpt-5",
          "voiceModel": "gpt-4-realtime-preview",
          "reasoningModel": "gpt-5",
          "realtimeModel": "gpt-realtime",
          "ephemeralKeyEndpoint": "/v1/realtime/client_secrets",
          "gpt5Config": {
            "reasoningEffort": "medium",
            "textVerbosity": "medium",
            "maxCompletionTokens": 2000
          }
        },
        "voiceConfig": {
          "enabled": true,
          "model": "gpt-realtime",
          "sessionType": "realtime",
          "connectionType": "webrtc",
          "modalities": ["text", "audio"],
          "outputModalities": ["audio"],
          "audio": {
            "input": {
              "format": "pcm16",
              "turn_detection": {
                "type": "semantic_vad",
                "create_response": true
              }
            },
            "output": {
              "format": "pcm16",
              "voice": "alloy",
              "speed": 1.0
            }
          },
          "instructions": "You are an expert visual piping inspection assistant. Guide inspectors through API 574 compliant visual inspection procedures. Provide clear, step-by-step instructions and record all visual observations accurately. Speak clearly and briefly. Confirm understanding before taking actions.",
          "promptStructure": {
            "role": "Expert Visual Piping Inspection Assistant",
            "objective": "Guide inspectors through API 574 compliant visual procedures, record observations accurately, and ensure safety compliance",
            "personality": "Professional, clear, concise, confident, safety-focused",
            "tone": "Authoritative yet approachable, technical but accessible",
            "language": "Respond in the same language as the user. Use technical terms appropriately but explain when necessary.",
            "pacing": "Speak at a natural pace, not too fast. Keep responses to 2-3 sentences when possible.",
            "variety": "Do not repeat the same phrases. Vary your responses to sound natural and avoid robotic speech."
          }
        },
        "realtimeConfig": {
          "enabled": true,
          "model": "gpt-realtime",
          "sessionType": "realtime",
          "modalities": ["text", "audio"],
          "audio": {
            "output": {
              "voice": "alloy",
              "format": "pcm16"
            },
            "input": {
              "format": "pcm16"
            }
          },
          "outputModalities": ["audio"],
          "temperature": 0.3,
          "maxTokens": 150,
          "instructions": "Provide real-time feedback on visual inspection observations. Validate visual findings, suggest follow-up actions, and ensure compliance with API 574 standards. Speak clearly and briefly. Confirm understanding before taking actions.",
          "connectionType": "webrtc",
          "webrtcUrl": "/v1/realtime/calls",
          "promptStructure": {
            "role": "Real-time Visual Inspection Assistant",
            "objective": "Provide immediate feedback, validate visual data, suggest actions, ensure safety compliance",
            "personality": "Responsive, precise, safety-conscious, proactive",
            "tone": "Direct, helpful, authoritative, concise",
            "language": "Use clear, technical language. Match user's language. Avoid jargon unless explained.",
            "pacing": "Respond quickly but clearly. Keep responses brief and actionable.",
            "variety": "Vary response patterns. Don't sound repetitive.",
            "clarity": "Always confirm understanding. Ask for clarification when needed.",
            "safety": "Prioritize safety concerns. Escalate critical issues immediately."
          },
          "tools": [],
          "toolChoice": "auto"
        },
        "sections": [
          {
            "id": "visual-inspection",
            "title": "External Visual Inspection (API 574)",
            "description": "Voice recording for external visual examination to assess overall condition and identify equipment",
            "sectionType": "voice",
            "order": 1,
            "includeInPdf": true,
            "widgetType": "voice-recorder-widget",
            "aiAgent": "EquipmentIdentificationAgent",
            "voicePrompt": "Record your observations for the initial API 574 external visual inspection. Include observations for corrosion, leaks, support conditions, insulation damage, and coating integrity. This will help identify the piping system and guide subsequent OCR and detailed analysis.",
            "voiceRecorderConfig": {
              "showVisualization": true,
              "showTranscription": true,
              "showConfidence": true,
              "maxDuration": 300,
              "autoTranscribe": true,
              "language": "en",
              "showControls": true,
              "showProgress": true,
              "openaiConfig": {
                "model": "whisper-1",
                "responseFormat": "text"
              }
            },
            "langGraphConfig": {
              "enabled": true,
              "triggerOnTranscription": true,
              "workflowId": "piping-visual-inspection-workflow",
              "model": "gpt-5",
              "reasoningConfig": {
                "reasoningEffort": "high",
                "textVerbosity": "medium",
                "maxCompletionTokens": 3000,
                "temperature": 0.2
              },
              "inputMapping": {
                "transcription": "inspection_observations",
                "confidence": "transcription_confidence",
                "audioUrl": "audio_recording_url",
                "timestamp": "inspection_timestamp",
                "location": "inspection_location"
              },
              "agentPrompt": "You are an expert visual piping inspector. Apply deep reasoning to analyze the following visual inspection observations. Think step-by-step through each observation, cross-reference with API 574/570 standards, and identify patterns or anomalies that might indicate systemic issues.\n\nInspection Transcript: {{transcription}}\n\nProvide a thorough analysis with reasoning chains for each conclusion.",
              "responseType": "structured",
              "outputFields": [
                {
                  "field": "corrosion_analysis",
                  "type": "object",
                  "properties": {
                    "type": "string",
                    "severity": "number",
                    "location": "array",
                    "visual_indicators": "string",
                    "reasoning": "string"
                  }
                },
                {
                  "field": "leak_assessment",
                  "type": "object",
                  "properties": {
                    "detected": "boolean",
                    "active_leaks": "number",
                    "severity": "string",
                    "fluid_type": "string",
                    "reasoning": "string"
                  }
                },
                {
                  "field": "structural_integrity",
                  "type": "object",
                  "properties": {
                    "support_condition": "string",
                    "vibration_risk": "string",
                    "thermal_issues": "boolean",
                    "reasoning": "string"
                  }
                },
                {
                  "field": "insulation_evaluation",
                  "type": "object",
                  "properties": {
                    "condition": "string",
                    "cui_risk": "string",
                    "replacement_needed": "boolean",
                    "reasoning": "string"
                  }
                },
                {
                  "field": "coating_assessment",
                  "type": "object",
                  "properties": {
                    "integrity_percentage": "number",
                    "failure_mode": "string",
                    "recoating_priority": "string",
                    "reasoning": "string"
                  }
                },
                {
                  "field": "compliance_analysis",
                  "type": "object",
                  "properties": {
                    "api_574_score": "number",
                    "api_570_compliance": "boolean",
                    "violations": "array",
                    "reasoning": "string"
                  }
                },
                {
                  "field": "recommendations",
                  "type": "object",
                  "properties": {
                    "immediate_actions": "array",
                    "short_term_repairs": "array",
                    "long_term_planning": "array",
                    "next_inspection_date": "string",
                    "reasoning": "string"
                  }
                },
                {
                  "field": "confidence_assessment",
                  "type": "object",
                  "properties": {
                    "overall_confidence": "number",
                    "ambiguous_observations": "array",
                    "additional_data_needed": "array",
                    "reasoning": "string"
                  }
                }
              ]
            },
            "aiConfig": {
              "model": "gpt-5",
              "reasoningConfig": {
                "reasoningEffort": "high",
                "textVerbosity": "medium",
                "maxCompletionTokens": 2000
              },
              "temperature": 0.3,
              "systemPrompt": "You are an expert visual piping inspector with deep knowledge of API 574, API 570, and ASME standards. Analyze the voice transcription with careful reasoning to extract structured visual inspection data, identify potential safety issues, and ensure regulatory compliance.",
              "analysisPrompt": "Based on the inspector's voice recording, perform a comprehensive visual analysis:\n\n1. VISUAL CORROSION ASSESSMENT:\n   - Type (uniform, pitting, crevice, galvanic, MIC)\n   - Severity (1-5 scale based on visual indicators)\n   - Location (specific components)\n   - Visual indicators (rust, scaling, pitting)\n\n2. LEAK DETECTION:\n   - Active vs inactive leaks\n   - Visual leak indicators\n   - Fluid type and hazard classification\n   - Environmental impact assessment\n\n3. STRUCTURAL INTEGRITY:\n   - Support condition (damaged, missing, misaligned)\n   - Vibration concerns\n   - Thermal expansion issues\n   - Load distribution problems\n\n4. INSULATION STATUS:\n   - Condition (wet, damaged, missing)\n   - CUI (Corrosion Under Insulation) risk\n   - Energy loss implications\n\n5. COATING INTEGRITY:\n   - Failure mode (peeling, blistering, rust breakthrough)\n   - Coverage percentage\n   - Recoating urgency\n\n6. COMPLIANCE & SAFETY:\n   - API 574 compliance score (0-100%)\n   - Immediate safety concerns\n   - Regulatory violations\n   - Required notifications\n\n7. RECOMMENDATIONS:\n   - Immediate actions (< 24 hours)\n   - Short-term repairs (< 30 days)\n   - Long-term planning (< 1 year)\n   - Inspection frequency adjustment\n\nProvide confidence levels for each assessment and flag any ambiguous observations that require clarification."
            },
            "formulas": {
              "inspectionCompleteness": "VOICE_TRANSCRIPT_LENGTH > 100 ? 1 : 0.5",
              "observationCount": "COUNT_DISTINCT_OBSERVATIONS",
              "complianceScore": "API_574_COMPLIANCE_CHECK ? 1 : 0.8"
            }
          },
          {
            "id": "nameplate-ocr",
            "title": "Equipment Identification (OCR)",
            "description": "Capture and analyze nameplate images for automatic equipment identification",
            "sectionType": "image",
            "order": 2,
            "includeInPdf": true,
            "maxImages": 5,
            "imageType": "nameplate",
            "aiAgent": "EquipmentIdentificationAgent",
            "analysisPrompt": "Extract equipment information from nameplate images including manufacturer, model, serial number, design pressure, temperature, and material specifications. Cross-reference with the voice inspection transcript from Step 1 to validate findings and identify any equipment mentioned. Perform comprehensive OCR on all visible text and populate equipment details automatically. Flag any discrepancies between OCR data and voice transcript observations.",
            "aiConfig": {
              "model": "gpt-5",
              "reasoningConfig": {
                "reasoningEffort": "high",
                "textVerbosity": "medium",
                "maxCompletionTokens": 1000
              },
              "temperature": 0.1
            },
            "formulas": {
              "ocrConfidence": "OCR_ACCURACY_SCORE",
              "dataCompleteness": "REQUIRED_FIELDS_FILLED / TOTAL_REQUIRED_FIELDS",
              "validationScore": "OCR_VOICE_MATCH_SCORE"
            }
          },
          {
            "id": "piping-system-identification",
            "title": "Piping System Identification",
            "description": "Complete piping system details using voice transcript and OCR data",
            "sectionType": "form",
            "order": 3,
            "includeInPdf": true
          },
          {
            "id": "external-photos",
            "title": "External Condition Photos",
            "description": "Capture detailed photos of external piping conditions for AI analysis",
            "sectionType": "image",
            "order": 4,
            "includeInPdf": true,
            "maxImages": 15,
            "imageType": "external",
            "drawingEnabled": true,
            "aiAgent": "VisualInspectionAgent",
            "analysisPrompt": "COMBINED ANALYSIS: Analyze external piping photos in direct correlation with the voice inspection transcript from Step 1. For each observation mentioned in the voice transcript, verify visual evidence in the images. Additionally, identify any critical findings visible in photos but NOT mentioned in the voice transcript. Specific tasks:\n\n1. VOICE-IMAGE CORRELATION: Match each voice observation (corrosion, leaks, support issues) with corresponding visual evidence\n2. SEVERITY VALIDATION: Compare inspector's verbal severity assessment with visual analysis\n3. ADDITIONAL FINDINGS: Identify defects visible in images but missed in voice inspection\n4. DISCREPANCY ANALYSIS: Flag any contradictions between voice and visual observations\n5. QUANTIFICATION: Provide measurements and percentages based on visual analysis to supplement voice descriptions\n\nClassify all findings per API 574 standards and provide confidence levels for each assessment.",
            "aiConfig": {
              "model": "gpt-5",
              "reasoningConfig": {
                "reasoningEffort": "high",
                "textVerbosity": "medium",
                "maxCompletionTokens": 1500
              },
              "temperature": 0.2
            },
            "langGraphConfig": {
              "enabled": true,
              "workflowId": "piping-visual-inspection-workflow",
              "executionMode": "parallel",
              "agents": [
                "EquipmentIdentificationAgent",
                "VisualCorrosionAnalysisAgent",
                "ComplianceCheckAgent",
                "VisualRiskAssessmentAgent",
                "RecommendationAgent"
              ],
              "autoPopulateForms": true,
              "aggregationStrategy": "merge_and_validate"
            },
            "formulas": {
              "defectDensity": "DEFECT_COUNT / TOTAL_PHOTOS",
              "severityIndex": "SUM_DEFECT_SEVERITY_SCORES / DEFECT_COUNT",
              "coverageScore": "PHOTOS_WITH_ANNOTATIONS / TOTAL_PHOTOS"
            }
          },
          {
            "id": "visual-corrosion-assessment",
            "title": "Visual Corrosion Assessment",
            "description": "Comprehensive visual corrosion analysis based on external observations only",
            "sectionType": "form",
            "order": 5,
            "includeInPdf": true,
            "aiConfig": {
              "model": "gpt-5",
              "reasoningConfig": {
                "reasoningEffort": "high",
                "textVerbosity": "medium",
                "maxCompletionTokens": 1500
              }
            },
            "formulas": {
              "visualCorrosionSeverity": "CORROSION_EXTENT * CORROSION_DEPTH_FACTOR",
              "coatingConditionScore": "COATING_INTEGRITY_PERCENTAGE / 100",
              "cuiRiskLevel": "INSULATION_CONDITION === 'wet' ? 'HIGH' : INSULATION_CONDITION === 'damaged' ? 'MEDIUM' : 'LOW'",
              "nextInspectionUrgency": "VISUAL_CORROSION_SEVERITY > 0.8 ? 'CRITICAL' : VISUAL_CORROSION_SEVERITY > 0.6 ? 'HIGH' : 'NORMAL'"
            },
            "fields": [
              {
                "id": "corrosion_type",
                "type": "combo-box",
                "label": "Type of Corrosion (Visual)",
                "required": true,
                "options": [
                  {"label": "General Corrosion - Uniform metal loss", "value": "general"},
                  {"label": "Pitting Corrosion - Localized deep pits", "value": "pitting"},
                  {"label": "Crevice Corrosion - Under deposits/flanges", "value": "crevice"},
                  {"label": "Galvanic Corrosion - Dissimilar metals", "value": "galvanic"},
                  {"label": "Erosion Corrosion - Flow accelerated", "value": "erosion"},
                  {"label": "Stress Corrosion Cracking - SCC", "value": "scc"},
                  {"label": "Microbiologically Induced - MIC", "value": "mic"},
                  {"label": "High Temperature Oxidation", "value": "oxidation"}
                ]
              },
              {
                "id": "severity_level",
                "type": "radio",
                "label": "Visual Corrosion Severity",
                "required": true,
                "options": [
                  {"label": "Minor", "value": "1"},
                  {"label": "Light", "value": "2"},
                  {"label": "Moderate", "value": "3"},
                  {"label": "Severe", "value": "4"},
                  {"label": "Critical", "value": "5"}
                ]
              },
              {
                "id": "corrosion_extent",
                "type": "radio",
                "label": "Corrosion Extent",
                "required": true,
                "options": [
                  {"label": "Localized (< 10%)", "value": "localized"},
                  {"label": "Partial (10-50%)", "value": "partial"},
                  {"label": "Widespread (50-90%)", "value": "widespread"},
                  {"label": "General (> 90%)", "value": "general"}
                ]
              },
              {
                "id": "coating_condition",
                "type": "radio",
                "label": "Coating Condition",
                "required": true,
                "options": [
                  {"label": "Excellent (95-100%)", "value": "excellent"},
                  {"label": "Good (80-95%)", "value": "good"},
                  {"label": "Fair (60-80%)", "value": "fair"},
                  {"label": "Poor (30-60%)", "value": "poor"},
                  {"label": "Failed (< 30%)", "value": "failed"}
                ]
              },
              {
                "id": "insulation_condition",
                "type": "radio",
                "label": "Insulation Condition",
                "required": true,
                "options": [
                  {"label": "Excellent - No visible damage", "value": "excellent"},
                  {"label": "Good - Minor damage", "value": "good"},
                  {"label": "Fair - Some damage", "value": "fair"},
                  {"label": "Poor - Significant damage", "value": "poor"},
                  {"label": "Failed - Missing or severely damaged", "value": "failed"}
                ]
              },
              {
                "id": "next_inspection",
                "type": "date-picker",
                "label": "Recommended Next Inspection Date",
                "required": true
              },
              {
                "id": "mitigation_required",
                "type": "radio",
                "label": "Immediate Mitigation Required",
                "required": true,
                "options": [
                  {"label": "Yes", "value": "yes"},
                  {"label": "No", "value": "no"}
                ]
              },
              {
                "id": "mitigation_notes",
                "type": "textarea",
                "label": "Mitigation Notes",
                "required": false,
                "placeholder": "Describe recommended mitigation actions based on visual findings...",
                "rows": 3
              }
            ]
          },
          {
            "id": "recommendations",
            "title": "Visual Inspection Recommendations & Action Items",
            "description": "AI-generated recommendations based on visual inspection data only",
            "sectionType": "form",
            "order": 6,
            "includeInPdf": true,
            "aiConfig": {
              "model": "gpt-5",
              "reasoningConfig": {
                "reasoningEffort": "medium",
                "textVerbosity": "medium",
                "maxCompletionTokens": 1500
              },
              "temperature": 0.3
            },
            "formulas": {
              "overallRiskScore": "(CORROSION_SEVERITY + COATING_CONDITION_INVERSE + INSULATION_CONDITION_INVERSE) / 3",
              "priorityLevel": "OVERALL_RISK_SCORE > 0.8 ? \"CRITICAL\" : OVERALL_RISK_SCORE > 0.6 ? \"HIGH\" : OVERALL_RISK_SCORE > 0.4 ? \"MEDIUM\" : \"LOW\"",
              "inspectionIntervalMonths": "RISK_LEVEL === 'CRITICAL' ? 3 : RISK_LEVEL === 'HIGH' ? 6 : RISK_LEVEL === 'MEDIUM' ? 12 : 24",
              "nextInspectionDate": "CURRENT_DATE + INSPECTION_INTERVAL_MONTHS",
              "workOrderPriority": "PRIORITY_LEVEL === \"CRITICAL\" ? \"URGENT\" : PRIORITY_LEVEL === \"HIGH\" ? \"HIGH\" : \"NORMAL\""
            },
            "fields": [
              {
                "id": "priority_level",
                "type": "radio",
                "label": "Overall Inspection Priority",
                "required": true,
                "options": [
                  {"label": "Low", "value": "low"},
                  {"label": "Medium", "value": "medium"},
                  {"label": "High", "value": "high"},
                  {"label": "Critical", "value": "critical"}
                ]
              },
              {
                "id": "immediate_actions",
                "type": "checkbox",
                "label": "Immediate Actions Required",
                "required": false,
                "options": [
                  {"label": "Isolate leaking sections", "value": "isolate_leaks"},
                  {"label": "Install temporary supports", "value": "temp_supports"},
                  {"label": "Reduce operating pressure", "value": "reduce_pressure"},
                  {"label": "Increase monitoring frequency", "value": "increase_monitoring"},
                  {"label": "Schedule emergency repair", "value": "emergency_repair"},
                  {"label": "Apply temporary coating", "value": "temp_coating"},
                  {"label": "Remove damaged insulation", "value": "remove_insulation"}
                ]
              },
              {
                "id": "short_term_actions",
                "type": "textarea",
                "label": "Short-term Actions (0-3 months)",
                "required": false,
                "placeholder": "List actions to be completed within 3 months based on visual findings...",
                "rows": 3
              },
              {
                "id": "long_term_actions",
                "type": "textarea",
                "label": "Long-term Actions (3-12 months)",
                "required": false,
                "placeholder": "List actions to be completed within 12 months based on visual findings...",
                "rows": 3
              },
              {
                "id": "ai_recommendations",
                "type": "textarea",
                "label": "AI Visual Analysis Summary",
                "required": false,
                "placeholder": "AI-generated recommendations based on visual inspection will appear here...",
                "rows": 6
              }
            ]
          },
          {
            "id": "work-orders",
            "title": "Maintenance Work Orders",
            "description": "Automated generation of work orders from visual inspection recommendations",
            "sectionType": "form",
            "order": 7,
            "includeInPdf": true,
            "fields": [
              {
                "id": "generate_work_orders",
                "type": "radio",
                "label": "Generate Maintenance Work Orders",
                "required": true,
                "options": [
                  {"label": "Yes", "value": "yes"},
                  {"label": "No", "value": "no"}
                ]
              },
              {
                "id": "work_order_priority",
                "type": "combo-box",
                "label": "Work Order Priority",
                "required": true,
                "options": [
                  {"label": "Critical - Immediate action required", "value": "critical"},
                  {"label": "High - Address within 1 week", "value": "high"},
                  {"label": "Medium - Address within 1 month", "value": "medium"},
                  {"label": "Low - Address within 3 months", "value": "low"}
                ]
              },
              {
                "id": "assigned_department",
                "type": "combo-box",
                "label": "Assigned Department",
                "required": true,
                "options": [
                  {"label": "Maintenance - Mechanical", "value": "maintenance_mechanical"},
                  {"label": "Maintenance - Electrical", "value": "maintenance_electrical"},
                  {"label": "Inspection Department", "value": "inspection"},
                  {"label": "Corrosion Engineering", "value": "corrosion_engineering"},
                  {"label": "Process Engineering", "value": "process_engineering"},
                  {"label": "Coating/Painting", "value": "coating_painting"}
                ]
              },
              {
                "id": "estimated_cost",
                "type": "input-number",
                "label": "Estimated Cost ($)",
                "required": false,
                "min": 0,
                "max": 1000000,
                "step": 100
              },
              {
                "id": "target_completion",
                "type": "date-picker",
                "label": "Target Completion Date",
                "required": true
              },
              {
                "id": "work_order_notes",
                "type": "textarea",
                "label": "Work Order Notes",
                "required": false,
                "placeholder": "Additional notes for the maintenance team based on visual findings...",
                "rows": 4
              }
            ]
          },
          {
            "id": "observations-checklist",
            "title": "Visual Observations Checklist",
            "description": "Comprehensive visual inspection observations with ratings for piping systems, supports, connections, and insulation",
            "sectionType": "form",
            "order": 8,
            "includeInPdf": true,
            "fields": [
              {
                "id": "observations_data",
                "type": "dynamic-observations",
                "label": "Visual Inspection Observations",
                "optionsUrl": "/api/reference-data/list-options/piping_inspection_observations",
                "optionsPath": "data",
                "optionsValueField": "value",
                "optionsLabelField": "label",
                "required": false
              }
            ]
          },
          {
            "id": "final-report",
            "title": "Final Visual Inspection Report",
            "description": "Complete visual inspection report with findings and recommendations",
            "sectionType": "form",
            "order": 9,
            "includeInPdf": true,
            "aiConfig": {
              "model": "gpt-5",
              "reasoningConfig": {
                "reasoningEffort": "high",
                "textVerbosity": "medium",
                "maxCompletionTokens": 2000
              },
              "temperature": 0.2
            },
            "formulas": {
              "overallConditionScore": "(COATING_CONDITION_SCORE + INSULATION_CONDITION_SCORE + CORROSION_SEVERITY_INVERSE) / 3",
              "dataCompletenessPercentage": "COMPLETED_FIELDS / TOTAL_FIELDS * 100",
              "inspectionQualityScore": "DATA_COMPLETENESS_PERCENTAGE * VISUAL_ACCURACY",
              "complianceScore": "API_574_COMPLIANCE + API_570_COMPLIANCE + INTERNAL_STANDARDS_COMPLIANCE",
              "reportConfidence": "INSPECTION_QUALITY_SCORE * COMPLIANCE_SCORE / 100",
              "nextInspectionUrgency": "RISK_LEVEL === 'CRITICAL' ? 'CRITICAL' : RISK_LEVEL === 'HIGH' ? 'HIGH' : 'NORMAL'"
            },
            "fields": [
              {
                "id": "report_summary",
                "type": "textarea",
                "label": "Visual Inspection Summary",
                "required": true,
                "placeholder": "Provide a comprehensive summary of the visual inspection findings...",
                "rows": 6
              },
              {
                "id": "overall_condition",
                "type": "rate",
                "label": "Overall Equipment Condition",
                "required": true,
                "count": 5,
                "tooltips": ["Poor", "Fair", "Good", "Very Good", "Excellent"]
              },
              {
                "id": "inspection_quality",
                "type": "segmented",
                "label": "Visual Inspection Quality Assurance",
                "required": true,
                "options": [
                  {"label": "Limited", "value": "limited"},
                  {"label": "Standard", "value": "standard"},
                  {"label": "Comprehensive", "value": "comprehensive"}
                ]
              },
              {
                "id": "data_completeness",
                "type": "slider",
                "label": "Data Completeness (%)",
                "required": true,
                "min": 0,
                "max": 100,
                "step": 5,
                "defaultValue": 95,
                "marks": {
                  "0": "0%",
                  "25": "25%",
                  "50": "50%",
                  "75": "75%",
                  "100": "100%"
                }
              },
              {
                "id": "report_distribution",
                "type": "checkbox",
                "label": "Report Distribution",
                "required": true,
                "options": [
                  {"label": "Asset Owner", "value": "asset_owner"},
                  {"label": "Maintenance Manager", "value": "maintenance_manager"},
                  {"label": "Inspection Department", "value": "inspection_dept"},
                  {"label": "Process Engineer", "value": "process_engineer"},
                  {"label": "Regulatory Compliance", "value": "regulatory"}
                ]
              },
              {
                "id": "report_approval",
                "type": "switch",
                "label": "Report Approved for Distribution",
                "required": true,
                "checkedChildren": "Approved",
                "unCheckedChildren": "Draft"
              },
              {
                "id": "follow_up_inspection",
                "type": "date-picker",
                "label": "Next Scheduled Visual Inspection",
                "required": true,
                "showTime": false,
                "format": "YYYY-MM-DD"
              },
              {
                "id": "priority_level",
                "type": "button-group",
                "label": "Inspection Priority",
                "required": true,
                "options": [
                  {"label": "Low", "value": "low"},
                  {"label": "Medium", "value": "medium"},
                  {"label": "High", "value": "high"},
                  {"label": "Critical", "value": "critical"}
                ]
              },
              {
                "id": "additional_comments",
                "type": "textarea",
                "label": "Additional Comments",
                "required": false,
                "placeholder": "Any additional comments or observations from visual inspection...",
                "rows": 4
              }
            ]
          }
        ],
        "groups": [
          {
            "id": "system_identification",
            "title": "System Identification",
            "sectionId": "piping-system-identification",
            "lgSpan": 24
          },
          {
            "id": "service_conditions",
            "title": "Service Conditions",
            "sectionId": "piping-system-identification",
            "lgSpan": 24
          },
          {
            "id": "material_specification",
            "title": "Material Specification",
            "sectionId": "piping-system-identification",
            "lgSpan": 24
          },
          {
            "id": "operating_conditions",
            "title": "Operating Conditions",
            "sectionId": "piping-system-identification",
            "lgSpan": 24
          },
          {
            "id": "inspection_details",
            "title": "Inspection Details",
            "sectionId": "piping-system-identification",
            "lgSpan": 24
          }
        ],
        "fields": [
          {
            "id": "system_name",
            "label": "System Name/Tag",
            "type": "autocomplete",
            "required": true,
            "placeholder": "e.g., 10-P-101, Boiler Feedwater Line",
            "groupId": "system_identification",
            "lgSpan": 12,
            "options": [
              {"label": "10-P-101 - Boiler Feedwater", "value": "10-P-101"},
              {"label": "10-P-102 - Condensate Return", "value": "10-P-102"},
              {"label": "20-P-201 - Process Feed", "value": "20-P-201"}
            ]
          },
          {
            "id": "line_number",
            "label": "Line Number",
            "type": "text",
            "required": true,
            "placeholder": "e.g., 10-LN-001",
            "groupId": "system_identification",
            "lgSpan": 12
          },
          {
            "id": "fluid_service",
            "label": "Fluid Service",
            "type": "select",
            "required": true,
            "placeholder": "Select or type fluid service",
            "groupId": "service_conditions",
            "lgSpan": 8,
            "options": [
              {"label": "Steam", "value": "steam"},
              {"label": "Water", "value": "water"},
              {"label": "Hydrocarbon", "value": "hydrocarbon"},
              {"label": "Chemical", "value": "chemical"},
              {"label": "Air/Gas", "value": "air_gas"},
              {"label": "Refrigerant", "value": "refrigerant"}
            ]
          },
          {
            "id": "design_pressure",
            "label": "Design Pressure (psi)",
            "type": "number",
            "required": true,
            "min": 0,
            "max": 10000,
            "step": 1,
            "precision": 0,
            "groupId": "service_conditions",
            "lgSpan": 8
          },
          {
            "id": "design_temperature",
            "label": "Design Temperature (°F)",
            "type": "number",
            "required": true,
            "min": -459,
            "max": 2000,
            "step": 1,
            "precision": 0,
            "groupId": "service_conditions",
            "lgSpan": 8
          },
          {
            "id": "material_spec",
            "label": "Material Specification",
            "type": "autocomplete",
            "required": true,
            "placeholder": "e.g., SA-106 Gr.B, A312 TP316",
            "groupId": "material_specification",
            "lgSpan": 12,
            "options": [
              {"label": "SA-106 Gr.B - Carbon Steel", "value": "SA-106 Gr.B"},
              {"label": "A312 TP316 - Stainless Steel", "value": "A312 TP316"},
              {"label": "A335 P11 - Alloy Steel", "value": "A335 P11"},
              {"label": "A106 Gr.B - Carbon Steel Pipe", "value": "A106 Gr.B"},
              {"label": "A312 TP304L - Stainless Steel", "value": "A312 TP304L"},
              {"label": "A335 P22 - Chrome-Moly Steel", "value": "A335 P22"}
            ]
          },
          {
            "id": "pipe_schedule",
            "label": "Pipe Schedule",
            "type": "select",
            "required": false,
            "placeholder": "Select pipe schedule",
            "groupId": "material_specification",
            "lgSpan": 6,
            "options": [
              {"label": "Schedule 10", "value": "SCH10"},
              {"label": "Schedule 20", "value": "SCH20"},
              {"label": "Schedule 40", "value": "SCH40"},
              {"label": "Schedule 80", "value": "SCH80"},
              {"label": "Schedule 120", "value": "SCH120"},
              {"label": "Schedule 160", "value": "SCH160"},
              {"label": "Schedule XXS", "value": "XXS"},
              {"label": "Schedule XS", "value": "XS"}
            ]
          },
          {
            "id": "pipe_size",
            "label": "Pipe Size (inches)",
            "type": "text",
            "required": false,
            "placeholder": "e.g., 6, 8, 12",
            "groupId": "material_specification",
            "lgSpan": 6
          },
          {
            "id": "operating_pressure",
            "label": "Operating Pressure (psi)",
            "type": "number",
            "required": false,
            "min": 0,
            "max": 10000,
            "step": 1,
            "precision": 0,
            "groupId": "operating_conditions",
            "lgSpan": 8
          },
          {
            "id": "operating_temperature",
            "label": "Operating Temperature (°F)",
            "type": "number",
            "required": false,
            "min": -459,
            "max": 2000,
            "step": 1,
            "precision": 0,
            "groupId": "operating_conditions",
            "lgSpan": 8
          },
          {
            "id": "flow_rate",
            "label": "Flow Rate (GPM)",
            "type": "number",
            "required": false,
            "min": 0,
            "max": 100000,
            "step": 1,
            "precision": 0,
            "groupId": "operating_conditions",
            "lgSpan": 8
          },
          {
            "id": "inspection_date",
            "label": "Inspection Date",
            "type": "date",
            "required": true,
            "groupId": "inspection_details",
            "lgSpan": 8
          },
          {
            "id": "inspector_name",
            "label": "Inspector Name",
            "type": "text",
            "required": true,
            "placeholder": "Enter inspector name",
            "groupId": "inspection_details",
            "lgSpan": 8
          },
          {
            "id": "inspection_type",
            "label": "Inspection Type",
            "type": "select",
            "required": true,
            "groupId": "inspection_details",
            "lgSpan": 8,
            "options": [
              {"label": "Routine Visual", "value": "routine_visual"},
              {"label": "Detailed Visual", "value": "detailed_visual"},
              {"label": "Special Visual", "value": "special_visual"},
              {"label": "Emergency Visual", "value": "emergency_visual"}
            ]
          }
        ],
        "sections": [
          {
            "id": "external-photos",
            "title": "External Condition Photos",
            "description": "Capture detailed photos of external piping conditions for AI analysis",
            "sectionType": "image",
            "order": 4,
            "includeInPdf": true,
            "maxImages": 15,
            "imageType": "external",
            "drawingEnabled": true,
            "aiAgent": "VisualInspectionAgent",
            "analysisPrompt": "COMBINED ANALYSIS: Analyze external piping photos in direct correlation with the voice inspection transcript from Step 1. For each observation mentioned in the voice transcript, verify visual evidence in the images. Additionally, identify any critical findings visible in photos but NOT mentioned in the voice transcript. Specific tasks:\n\n1. VOICE-IMAGE CORRELATION: Match each voice observation (corrosion, leaks, support issues) with corresponding visual evidence\n2. SEVERITY VALIDATION: Compare inspector's verbal severity assessment with visual analysis\n3. ADDITIONAL FINDINGS: Identify defects visible in images but missed in voice inspection\n4. DISCREPANCY ANALYSIS: Flag any contradictions between voice and visual observations\n5. QUANTIFICATION: Provide measurements and percentages based on visual analysis to supplement voice descriptions\n\nClassify all findings per API 574 standards and provide confidence levels for each assessment.",
            "aiConfig": {
              "model": "gpt-5",
              "reasoningConfig": {
                "reasoningEffort": "high",
                "textVerbosity": "medium",
                "maxCompletionTokens": 1500
              },
              "temperature": 0.2
            },
            "langGraphConfig": {
              "enabled": true,
              "workflowId": "piping-visual-inspection-workflow",
              "executionMode": "parallel",
              "agents": [
                "EquipmentIdentificationAgent",
                "VisualCorrosionAnalysisAgent",
                "ComplianceCheckAgent",
                "VisualRiskAssessmentAgent",
                "RecommendationAgent"
              ],
              "autoPopulateForms": true,
              "aggregationStrategy": "merge_and_validate"
            },
            "formulas": {
              "defectDensity": "DEFECT_COUNT / TOTAL_PHOTOS",
              "severityIndex": "SUM_DEFECT_SEVERITY_SCORES / DEFECT_COUNT",
              "coverageScore": "PHOTOS_WITH_ANNOTATIONS / TOTAL_PHOTOS"
            }
          },
          {
            "id": "visual-corrosion-assessment",
            "title": "Visual Corrosion Assessment",
            "description": "Comprehensive visual corrosion analysis based on external observations only",
            "sectionType": "form",
            "order": 5,
            "includeInPdf": true,
            "aiConfig": {
              "model": "gpt-5",
              "reasoningConfig": {
                "reasoningEffort": "high",
                "textVerbosity": "medium",
                "maxCompletionTokens": 1500
              }
            },
            "formulas": {
              "visualCorrosionSeverity": "CORROSION_EXTENT * CORROSION_DEPTH_FACTOR",
              "coatingConditionScore": "COATING_INTEGRITY_PERCENTAGE / 100",
              "cuiRiskLevel": "INSULATION_CONDITION === 'wet' ? 'HIGH' : INSULATION_CONDITION === 'damaged' ? 'MEDIUM' : 'LOW'",
              "nextInspectionUrgency": "VISUAL_CORROSION_SEVERITY > 0.8 ? 'CRITICAL' : VISUAL_CORROSION_SEVERITY > 0.6 ? 'HIGH' : 'NORMAL'"
            },
            "fields": [
              {
                "id": "corrosion_type",
                "type": "combo-box",
                "label": "Type of Corrosion (Visual)",
                "required": true,
                "options": [
                  {"label": "General Corrosion - Uniform metal loss", "value": "general"},
                  {"label": "Pitting Corrosion - Localized deep pits", "value": "pitting"},
                  {"label": "Crevice Corrosion - Under deposits/flanges", "value": "crevice"},
                  {"label": "Galvanic Corrosion - Dissimilar metals", "value": "galvanic"},
                  {"label": "Erosion Corrosion - Flow accelerated", "value": "erosion"},
                  {"label": "Stress Corrosion Cracking - SCC", "value": "scc"},
                  {"label": "Microbiologically Induced - MIC", "value": "mic"},
                  {"label": "High Temperature Oxidation", "value": "oxidation"}
                ]
              },
              {
                "id": "severity_level",
                "type": "radio",
                "label": "Visual Corrosion Severity",
                "required": true,
                "options": [
                  {"label": "Minor", "value": "1"},
                  {"label": "Light", "value": "2"},
                  {"label": "Moderate", "value": "3"},
                  {"label": "Severe", "value": "4"},
                  {"label": "Critical", "value": "5"}
                ]
              },
              {
                "id": "corrosion_extent",
                "type": "radio",
                "label": "Corrosion Extent",
                "required": true,
                "options": [
                  {"label": "Localized (< 10%)", "value": "localized"},
                  {"label": "Partial (10-50%)", "value": "partial"},
                  {"label": "Widespread (50-90%)", "value": "widespread"},
                  {"label": "General (> 90%)", "value": "general"}
                ]
              },
              {
                "id": "coating_condition",
                "type": "radio",
                "label": "Coating Condition",
                "required": true,
                "options": [
                  {"label": "Excellent (95-100%)", "value": "excellent"},
                  {"label": "Good (80-95%)", "value": "good"},
                  {"label": "Fair (60-80%)", "value": "fair"},
                  {"label": "Poor (30-60%)", "value": "poor"},
                  {"label": "Failed (< 30%)", "value": "failed"}
                ]
              },
              {
                "id": "insulation_condition",
                "type": "radio",
                "label": "Insulation Condition",
                "required": true,
                "options": [
                  {"label": "Excellent - No visible damage", "value": "excellent"},
                  {"label": "Good - Minor damage", "value": "good"},
                  {"label": "Fair - Some damage", "value": "fair"},
                  {"label": "Poor - Significant damage", "value": "poor"},
                  {"label": "Failed - Missing or severely damaged", "value": "failed"}
                ]
              },
              {
                "id": "next_inspection",
                "type": "date-picker",
                "label": "Recommended Next Inspection Date",
                "required": true
              },
              {
                "id": "mitigation_required",
                "type": "radio",
                "label": "Immediate Mitigation Required",
                "required": true,
                "options": [
                  {"label": "Yes", "value": "yes"},
                  {"label": "No", "value": "no"}
                ]
              },
              {
                "id": "mitigation_notes",
                "type": "textarea",
                "label": "Mitigation Notes",
                "required": false,
                "placeholder": "Describe recommended mitigation actions based on visual findings...",
                "rows": 3
              }
            ]
          },
          {
            "id": "recommendations",
            "title": "Visual Inspection Recommendations & Action Items",
            "description": "AI-generated recommendations based on visual inspection data only",
            "sectionType": "form",
            "order": 6,
            "includeInPdf": true,
            "aiConfig": {
              "model": "gpt-5",
              "reasoningConfig": {
                "reasoningEffort": "medium",
                "textVerbosity": "medium",
                "maxCompletionTokens": 1500
              },
              "temperature": 0.3
            },
            "formulas": {
              "overallRiskScore": "(CORROSION_SEVERITY + COATING_CONDITION_INVERSE + INSULATION_CONDITION_INVERSE) / 3",
              "priorityLevel": "OVERALL_RISK_SCORE > 0.8 ? \"CRITICAL\" : OVERALL_RISK_SCORE > 0.6 ? \"HIGH\" : OVERALL_RISK_SCORE > 0.4 ? \"MEDIUM\" : \"LOW\"",
              "inspectionIntervalMonths": "RISK_LEVEL === 'CRITICAL' ? 3 : RISK_LEVEL === 'HIGH' ? 6 : RISK_LEVEL === 'MEDIUM' ? 12 : 24",
              "nextInspectionDate": "CURRENT_DATE + INSPECTION_INTERVAL_MONTHS",
              "workOrderPriority": "PRIORITY_LEVEL === \"CRITICAL\" ? \"URGENT\" : PRIORITY_LEVEL === \"HIGH\" ? \"HIGH\" : \"NORMAL\""
            },
            "fields": [
              {
                "id": "priority_level",
                "type": "radio",
                "label": "Overall Inspection Priority",
                "required": true,
                "options": [
                  {"label": "Low", "value": "low"},
                  {"label": "Medium", "value": "medium"},
                  {"label": "High", "value": "high"},
                  {"label": "Critical", "value": "critical"}
                ]
              },
              {
                "id": "immediate_actions",
                "type": "checkbox",
                "label": "Immediate Actions Required",
                "required": false,
                "options": [
                  {"label": "Isolate leaking sections", "value": "isolate_leaks"},
                  {"label": "Install temporary supports", "value": "temp_supports"},
                  {"label": "Reduce operating pressure", "value": "reduce_pressure"},
                  {"label": "Increase monitoring frequency", "value": "increase_monitoring"},
                  {"label": "Schedule emergency repair", "value": "emergency_repair"},
                  {"label": "Apply temporary coating", "value": "temp_coating"},
                  {"label": "Remove damaged insulation", "value": "remove_insulation"}
                ]
              },
              {
                "id": "short_term_actions",
                "type": "textarea",
                "label": "Short-term Actions (0-3 months)",
                "required": false,
                "placeholder": "List actions to be completed within 3 months based on visual findings...",
                "rows": 3
              },
              {
                "id": "long_term_actions",
                "type": "textarea",
                "label": "Long-term Actions (3-12 months)",
                "required": false,
                "placeholder": "List actions to be completed within 12 months based on visual findings...",
                "rows": 3
              },
              {
                "id": "ai_recommendations",
                "type": "textarea",
                "label": "AI Visual Analysis Summary",
                "required": false,
                "placeholder": "AI-generated recommendations based on visual inspection will appear here...",
                "rows": 6
              }
            ]
          },
          {
            "id": "work-orders",
            "title": "Maintenance Work Orders",
            "description": "Automated generation of work orders from visual inspection recommendations",
            "sectionType": "form",
            "order": 7,
            "includeInPdf": true,
            "fields": [
              {
                "id": "generate_work_orders",
                "type": "radio",
                "label": "Generate Maintenance Work Orders",
                "required": true,
                "options": [
                  {"label": "Yes", "value": "yes"},
                  {"label": "No", "value": "no"}
                ]
              },
              {
                "id": "work_order_priority",
                "type": "combo-box",
                "label": "Work Order Priority",
                "required": true,
                "options": [
                  {"label": "Critical - Immediate action required", "value": "critical"},
                  {"label": "High - Address within 1 week", "value": "high"},
                  {"label": "Medium - Address within 1 month", "value": "medium"},
                  {"label": "Low - Address within 3 months", "value": "low"}
                ]
              },
              {
                "id": "assigned_department",
                "type": "combo-box",
                "label": "Assigned Department",
                "required": true,
                "options": [
                  {"label": "Maintenance - Mechanical", "value": "maintenance_mechanical"},
                  {"label": "Maintenance - Electrical", "value": "maintenance_electrical"},
                  {"label": "Inspection Department", "value": "inspection"},
                  {"label": "Corrosion Engineering", "value": "corrosion_engineering"},
                  {"label": "Process Engineering", "value": "process_engineering"},
                  {"label": "Coating/Painting", "value": "coating_painting"}
                ]
              },
              {
                "id": "estimated_cost",
                "type": "input-number",
                "label": "Estimated Cost ($)",
                "required": false,
                "min": 0,
                "max": 1000000,
                "step": 100
              },
              {
                "id": "target_completion",
                "type": "date-picker",
                "label": "Target Completion Date",
                "required": true
              },
              {
                "id": "work_order_notes",
                "type": "textarea",
                "label": "Work Order Notes",
                "required": false,
                "placeholder": "Additional notes for the maintenance team based on visual findings...",
                "rows": 4
              }
            ]
          },
          {
            "id": "observations-checklist",
            "title": "Visual Observations Checklist",
            "description": "Comprehensive visual inspection observations with ratings for piping systems, supports, connections, and insulation",
            "sectionType": "form",
            "order": 8,
            "includeInPdf": true,
            "fields": [
              {
                "id": "observations_data",
                "type": "dynamic-observations",
                "label": "Visual Inspection Observations",
                "optionsUrl": "/api/reference-data/list-options/piping_inspection_observations",
                "optionsPath": "data",
                "optionsValueField": "value",
                "optionsLabelField": "label",
                "required": false
              }
            ]
          },
          {
            "id": "final-report",
            "title": "Final Visual Inspection Report",
            "description": "Complete visual inspection report with findings and recommendations",
            "sectionType": "form",
            "order": 9,
            "includeInPdf": true,
            "aiConfig": {
              "model": "gpt-5",
              "reasoningConfig": {
                "reasoningEffort": "high",
                "textVerbosity": "medium",
                "maxCompletionTokens": 2000
              },
              "temperature": 0.2
            },
            "formulas": {
              "overallConditionScore": "(COATING_CONDITION_SCORE + INSULATION_CONDITION_SCORE + CORROSION_SEVERITY_INVERSE) / 3",
              "dataCompletenessPercentage": "COMPLETED_FIELDS / TOTAL_FIELDS * 100",
              "inspectionQualityScore": "DATA_COMPLETENESS_PERCENTAGE * VISUAL_ACCURACY",
              "complianceScore": "API_574_COMPLIANCE + API_570_COMPLIANCE + INTERNAL_STANDARDS_COMPLIANCE",
              "reportConfidence": "INSPECTION_QUALITY_SCORE * COMPLIANCE_SCORE / 100",
              "nextInspectionUrgency": "RISK_LEVEL === 'CRITICAL' ? 'CRITICAL' : RISK_LEVEL === 'HIGH' ? 'HIGH' : 'NORMAL'"
            },
            "fields": [
              {
                "id": "report_summary",
                "type": "textarea",
                "label": "Visual Inspection Summary",
                "required": true,
                "placeholder": "Provide a comprehensive summary of the visual inspection findings...",
                "rows": 6
              },
              {
                "id": "overall_condition",
                "type": "rate",
                "label": "Overall Equipment Condition",
                "required": true,
                "count": 5,
                "tooltips": ["Poor", "Fair", "Good", "Very Good", "Excellent"]
              },
              {
                "id": "inspection_quality",
                "type": "segmented",
                "label": "Visual Inspection Quality Assurance",
                "required": true,
                "options": [
                  {"label": "Limited", "value": "limited"},
                  {"label": "Standard", "value": "standard"},
                  {"label": "Comprehensive", "value": "comprehensive"}
                ]
              },
              {
                "id": "data_completeness",
                "type": "slider",
                "label": "Data Completeness (%)",
                "required": true,
                "min": 0,
                "max": 100,
                "step": 5,
                "defaultValue": 95,
                "marks": {
                  "0": "0%",
                  "25": "25%",
                  "50": "50%",
                  "75": "75%",
                  "100": "100%"
                }
              },
              {
                "id": "report_distribution",
                "type": "checkbox",
                "label": "Report Distribution",
                "required": true,
                "options": [
                  {"label": "Asset Owner", "value": "asset_owner"},
                  {"label": "Maintenance Manager", "value": "maintenance_manager"},
                  {"label": "Inspection Department", "value": "inspection_dept"},
                  {"label": "Process Engineer", "value": "process_engineer"},
                  {"label": "Regulatory Compliance", "value": "regulatory"}
                ]
              },
              {
                "id": "report_approval",
                "type": "switch",
                "label": "Report Approved for Distribution",
                "required": true,
                "checkedChildren": "Approved",
                "unCheckedChildren": "Draft"
              },
              {
                "id": "follow_up_inspection",
                "type": "date-picker",
                "label": "Next Scheduled Visual Inspection",
                "required": true,
                "showTime": false,
                "format": "YYYY-MM-DD"
              },
              {
                "id": "priority_level",
                "type": "button-group",
                "label": "Inspection Priority",
                "required": true,
                "options": [
                  {"label": "Low", "value": "low"},
                  {"label": "Medium", "value": "medium"},
                  {"label": "High", "value": "high"},
                  {"label": "Critical", "value": "critical"}
                ]
              },
              {
                "id": "additional_comments",
                "type": "textarea",
                "label": "Additional Comments",
                "required": false,
                "placeholder": "Any additional comments or observations from visual inspection...",
                "rows": 4
              }
            ]
          }
        ]
      }
    }
  ]
}
