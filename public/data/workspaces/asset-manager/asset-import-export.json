{
  "id": "asset-manager/asset-import-export",
  "title": "Asset Data Import/Export",
  "description": "Enterprise-grade Excel import/export with intelligent column mapping, validation, and preview",
  "layout": "dashboard",
  "gadgets": [
    {
      "id": "import-navigation",
      "type": "action-panel-gadget",
      "title": "Navigation",
      "description": "Quick navigation to related workspaces",
      "config": {
        "layout": "horizontal",
        "maxItems": 5,
        "showIcons": true,
        "showLabels": true,
        "cardSize": "medium",
        "spacing": "even",
        "actions": [
          {
            "key": "asset-management",
            "label": "‚Üê Asset Management",
            "description": "Return to Asset Management workspace",
            "icon": "DatabaseOutlined",
            "type": "default",
            "workspace": "asset-manager/asset-management"
          },
          {
            "key": "paint-specs",
            "label": "Paint Specs",
            "description": "Paint specifications management",
            "icon": "ExperimentOutlined",
            "type": "default",
            "workspace": "asset-manager/paint-specs-dashboard"
          }
        ]
      },
      "position": 24
    },
    {
      "id": "asset-import-export",
      "type": "data-import-export-gadget",
      "title": "Asset Data Import/Export",
      "description": "Enterprise-grade Excel import/export with intelligent column mapping, validation, and preview",
      "config": {
        "documentType": "asset",
        "allowImport": true,
        "allowExport": true,
        "exportFilename": "asset_export.xlsx",
        "documentTypeSelection": {
          "enabled": true,
          "title": "What are you importing?",
          "description": "Select the type of data you want to import. We'll intelligently map your Excel columns based on your selection.",
          "options": [
            {
              "value": "company",
              "label": "Company",
              "description": "Import company/organization data",
              "icon": "BankOutlined",
              "formPath": "/data/workspaces/asset-manager/company-form.json",
              "updateKey": "code",
              "exportFilename": "companies_export.xlsx",
              "parentEntities": []
            },
            {
              "value": "site",
              "label": "Facility/Site",
              "description": "Import facility or site data (with parent company)",
              "icon": "ApartmentOutlined",
              "formPath": "/data/workspaces/asset-manager/site-form.json",
              "updateKey": "code",
              "exportFilename": "sites_export.xlsx",
              "parentEntities": [
                {
                  "type": "company",
                  "label": "Parent Company",
                  "required": true,
                  "apiEndpoint": "/api/documents?type=company",
                  "labelField": "name",
                  "valueField": "id",
                  "linkedField": "company_id"
                }
              ]
            },
            {
              "value": "asset_group",
              "label": "Asset Group/Unit",
              "description": "Import asset groups or units (with parent company and site)",
              "icon": "AppstoreOutlined",
              "formPath": "/data/workspaces/asset-manager/asset-group-form.json",
              "updateKey": "code",
              "exportFilename": "asset_groups_export.xlsx",
              "parentEntities": [
                {
                  "type": "company",
                  "label": "Parent Company",
                  "required": true,
                  "apiEndpoint": "/api/documents?type=company",
                  "labelField": "name",
                  "valueField": "id",
                  "linkedField": "company_id"
                },
                {
                  "type": "site",
                  "label": "Parent Site/Facility",
                  "required": true,
                  "apiEndpoint": "/api/documents?type=site",
                  "labelField": "name",
                  "valueField": "id",
                  "linkedField": "site_id",
                  "filterByParent": "company"
                }
              ]
            },
            {
              "value": "asset",
              "label": "Asset/Equipment",
              "description": "Import assets or equipment",
              "icon": "DatabaseOutlined",
              "formPath": "/data/workspaces/asset-manager/asset-form.json",
              "updateKey": "asset_tag",
              "exportFilename": "assets_export.xlsx",
              "parentEntities": [
                {
                  "type": "company",
                  "label": "Parent Company",
                  "required": false,
                  "apiEndpoint": "/api/documents?type=company",
                  "labelField": "name",
                  "valueField": "id",
                  "linkedField": "company_id"
                },
                {
                  "type": "site",
                  "label": "Parent Site/Facility",
                  "required": false,
                  "apiEndpoint": "/api/documents?type=site",
                  "labelField": "name",
                  "valueField": "id",
                  "linkedField": "site_id",
                  "filterByParent": "company"
                }
              ]
            }
          ]
        },
        "importConfig": {
          "documentType": "asset",
          "allowCreate": true,
          "allowUpdate": true,
          "skipDuplicates": false,
          "updateKey": "asset_tag",
          "skipFirstRow": true,
          "_comment": "Duplicate handling: updateKey='asset_tag' checks for duplicates. If skipDuplicates=true, duplicates are skipped. If skipDuplicates=false (default), duplicates are updated (when allowUpdate=true)."
        },
        "aiConfig": {
          "enabled": true,
          "model": "gpt-5-nano",
          "reasoningEffort": "low",
          "textVerbosity": "low",
          "maxCompletionTokens": 8000,
          "_comment": "üöÄ BATCH MODE: GPT-5-nano with explicit step-by-step hierarchy matching instructions.",
          "systemPrompt": "You are mapping Excel columns to database fields. CRITICAL: Match Excel column names to the EXACT database field labels provided. Use semantic understanding to find best matches. Consider common aliases (e.g., 'Facility' matches 'Site Name', 'Equipment ID' matches 'Asset Tag'). For hierarchy-aware imports (Asset), identify the hierarchy level from field prefixes: 'Company:' prefix = company level, 'Site:' prefix = facility level, 'Asset Group:' prefix = unit level, 'Asset:' prefix = equipment level. Return exact dbField IDs provided in the field list. JSON format: excelColumn, dbField, confidence (0-1), explanation."
        }
      },
      "position": 24
    }
  ],
  "settings": {
    "autoRefresh": false,
    "theme": "light",
    "density": "comfortable",
    "showLastUpdated": true,
    "enableExport": true,
    "enablePrint": false
  },
  "metadata": {
    "created": "2024-01-15T00:00:00Z",
    "version": "1.0.0",
    "tags": ["assets", "import", "export", "excel", "data-management"],
    "description": "Dedicated workspace for importing and exporting asset data with AI-powered column mapping."
  }
}